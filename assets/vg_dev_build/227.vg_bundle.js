"use strict";(self.webpackChunkcustom_vf_nextjs=self.webpackChunkcustom_vf_nextjs||[]).push([[227],{4653:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(8997),r=n(7294),o=n(8676),l=r.createElement;const i=function(e){var t,n,i,s=(0,o.useRuntime)().runtime,u=r.useMemo((function(){var e,t;return(null==s||null===(e=s.variables)||void 0===e?void 0:e.avatarImageUrl)||(null===(t=s.variables)||void 0===t?void 0:t.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=s.variables)||void 0===t?void 0:t.roundedImageURL,null==s||null===(n=s.variables)||void 0===n?void 0:n.avatarImageUrl,null===(i=s.variables)||void 0===i?void 0:i.theme]);return l("div",{key:e.key||"",id:e.id||"",className:" vg-w-unit-8 vg-h-unit-8 vg-chat-avatar vg-relative "},l(a.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-hidden "},className:" vg-w-[32px] vg-h-[32px] vg-rounded-full vg-object-cover vg-chat-avatar--img",src:u}),s.agentName&&l("p",{className:" vg-absolute vg-text-tiny vg-opacity-80 vg-top-[-20px] vg-left-unit-1 vg-z-[50] vg-chat-agent-name"},s.agentName))}},5392:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(7294),r=n(4653),o=n(7828),l=n(7619),i=a.createElement;const s=function(e){return i("div",{id:e.id||"actually_loading",className:" vg-w-full vg-h-auto vg-flex vg-relative vg-loading-animation-container",key:"loading_thing"},e.variant?null:i(r.Z,null),i("div",{className:" ".concat(e.variant?" ":" vg-md:ml-unit-4 vg-ml-unit-2 "," vg-w-unit-14 vg-h-unit-8 vg-relative vg-loading-animation--inner")},i(o.M,null,i(l.E.div,{initial:{scale:1},animate:{scale:1.1},exit:{scale:1},transition:{repeat:1/0,repeatType:"mirror",duration:1},key:"dots_container",className:" vg-flex vg-gap-unit-1 vg-items-center vg-h-full vg-justify-center vg-rounded-lg vg-w-full ".concat("light"===e.variant&&" vg-bg-transparent vg-border-none "," vg- ").concat(!e.variant&&" vg-bg-background vg-border vg-border-foreground-200 "," vg- vg-loading-animation ")},i(l.E.div,{style:{display:"unset"},key:"1_dots_circle",animate:{y:[-2,0,2,0,-2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"reverse",duration:.8},className:" vg-w-unit-2 vg-h-unit-2 vg-rounded-full vg-loading--dot"}),i(l.E.div,{style:{display:"unset"},key:"2_dots_circle",animate:{y:[2,0,-2,0,2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"mirror",delay:.2,duration:.8},className:" vg-w-unit-2 vg-h-unit-2 vg-rounded-full vg-loading--dot"}),i(l.E.div,{style:{display:"unset"},key:"3_dots_circle",animate:{y:[-2,0,2,0,-2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"mirror",delay:.4,duration:.8},className:" vg-w-unit-2 vg-h-unit-2 vg-rounded-full vg-loading--dot"})))))}},5227:(e,t,n)=>{n.r(t),n.d(t,{default:()=>zo});var a=n(7462),r=n(2167),o=n(885),l=n(7294),i=n(8676),s=n(2982),u=n(3850),c=n(2134),v=n(5987),g=n(7464),d=(0,g.tv)({base:" vg-w-px vg-h-px vg-inline-block ",variants:{isInline:{true:" vg-inline-block ",false:" vg-block "}},defaultVariants:{isInline:!1}}),f=n(262),m=n(9869),p={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},b=["as","className","x","y"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t;return null!==(t=p[e])&&void 0!==t?t:e};var x=l.createElement;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var P=(0,c.Gp)((function(e,t){var n=function(e){var t=(0,c.oe)(e,d.variantKeys),n=(0,o.Z)(t,2),a=n[0],r=n[1],i=a.as,u=a.className,g=a.x,p=void 0===g?1:g,h=a.y,x=void 0===h?1:h,O=(0,v.Z)(a,b),P=i||"span",N=(0,l.useMemo)((function(){return d(y(y({},r),{},{className:u}))}),[].concat((0,s.Z)(Object.values(r)),[u])),j=w(p),k=w(x);return{Component:P,getSpacerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(y(y({},e),O),{},{"aria-hidden":(0,f.PB)(!0),className:(0,m.W)(N,e.className),style:y(y(y({},e.style),O.style),{},{marginLeft:j,marginTop:k})})}}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),i=n.Component,u=n.getSpacerProps;return x(i,(0,a.Z)({ref:t},u()))}));P.displayName="NextUI.Spacer";const N=P;var j=n(381),k=n.n(j),D=n(7828),S=n(5152),I=n.n(S),Z=n(7479),C=n(6103),E=n(8997),_=n(1194),M=n(6985),R=n(9690),T=l.createElement;const V=function(e){var t,n,a,r,s,u,c,v,g=(0,i.useRuntime)(),d=g.runtime,f=(g.handlePushMessage,g.formattedTurnsValue),m=l.useState(!1),p=(0,o.Z)(m,2),b=p[0],h=p[1],y=f.length-1,w=l.useState(!1),x=(0,o.Z)(w,2),O=x[0],P=x[1];return T("div",{id:e.domID,key:e.key,className:" vg-flex vg-flex-col vg-w-unit-72 vg-h-auto vg-object-cover vg-border vg-border-primary-100 vg-rounded-large vg-bg-gradient-to-t vg-from-content2 vg-to-content2 vg-card"},e.imageUrl&&T("div",{className:" vg-w-full vg-h-full vg-rounded-large vg-overflow-none vg-relative "},!b&&T(C.Z,{className:" vg-w-full vg-h-full vg-rounded-large vg-absolute vg-z-[10] vg-top-0 vg-left-0 "}),O?null:T(E.Z,{onError:function(){return h(!1),void P(!0)},disableSkeleton:!0,onLoad:function(){return h(!0),void P(!1)},className:" vg-aspect-video vg-w-full vg-h-auto ".concat(b?" vg-object-cover ":" vg-aspect-video vg-w-unit-72 vg-h-full vg-overflow-none vg-rounded-[20px] "," vg-rounded-large vg-card-image"),alt:"Image",src:null!==(t=e.imageUrl)&&void 0!==t&&t.includes("https://")?e.imageUrl:"https://".concat(e.imageUrl)})),T("div",{className:" vg-p-0 vg-m-0 vg-card--content"},(e.title||(null===(n=e.description)||void 0===n?void 0:n.text)||0!==(null===(a=e.buttons)||void 0===a?void 0:a.length))&&T("div",{className:" ".concat(e.title||null!==(r=e.description)&&void 0!==r&&r.text?" vg-px-unit-4 vg-py-unit-2 ":" vg-pb-unit-3 "," vg-flex vg-flex-col vg-mt-unit-2 vg-card-inner")},(e.title||(null===(s=e.description)||void 0===s?void 0:s.text))&&T("div",{className:" vg-flex vg-flex-col vg-gap-unit-1 vg-mb-unit-3 "},null!=e&&e.title?T(M.Z,{className:" vg-font-bold vg-text-foreground vg-mb-unit-1 vg-leading-[100%] vg-card-title"},e.title):null,null!=e&&null!==(u=e.description)&&void 0!==u&&u.text?T(M.Z,{className:" vg-text-small vg-opacity-75 vg-text-foreground vg-leading-[135%] vg-truncate-2-lines vg-card-desc"},null!==(c=e.description)&&void 0!==c&&c.text?(0,_.MB)(null===(v=e.description)||void 0===v?void 0:v.text,500):""):null),T(R.Z,{noAnimation:!0,isDisabled:(null==e||e.turnIndex,d.manualControl),inCard:!0,item:{payload:{buttons:e.buttons}},index:y,messageTurnIndex:e.turnIndex}))))};var B=n(3750),L=n(4653),z=n(7693),F=l.createElement;const A=function(e){var t,n,r,i=l.useState(0),s=(0,o.Z)(i,2),c=s[0],v=s[1],g=l.useState(!1),d=(0,o.Z)(g,2),f=d[0],m=d[1],p=l.useState(!1),b=(0,o.Z)(p,2),h=b[0],y=b[1],w=l.useRef(null);return l.useEffect((function(){if(f&&ko("carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(c)).then((function(e){e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),h){var t=setTimeout((function(){y(!1)}),1e3);return function(){clearTimeout(t)}}}),[c]),0!==(null==e||null===(t=e.cards)||void 0===t?void 0:t.length)?F("div",{key:"carousel_container_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex),onScroll:function(t){m(!0),function(t){var n=t.target.scrollLeftMax||t.target.scrollWidth-t.target.clientWidth;if(!h&&f){var a,r;if(0===t.target.scrollLeft)return v(0);if(t.target.scrollLeft===n)return v((null===(r=e.cards)||void 0===r?void 0:r.length)-1);var o=Math.floor(t.target.scrollLeft*(null===(a=e.cards)||void 0===a?void 0:a.length)/n);v((function(t){var n;return"number"==typeof o&&o<=(null===(n=e.cards)||void 0===n?void 0:n.length)-1&&o>=0?o:t}))}}(t)},ref:w,className:" vg-overflow-x-auto vg-flex vg-flex-row vg-overflow-y-hidden vg-h-auto vg-container-snap vg-mt-unit-2 vg-carousel-container"},F("div",{className:" vg-absolute vg-top-1/2 vg-transform vg--translate-y-1/2 vg-z-20 vg-left-unit-5 vg-w-auto vg-carousel-back-control"},F(D.M,null,0!==c&&f&&F(z.Z,{key:"carousel__controls_turn_".concat(e.turnIndex,"_decrement")},F(u.Z,{onPress:function(){y(!0),v((function(e){return 0===c||isNaN(e-1)?0:e-1}))},isIconOnly:!0,className:" vg-rounded-full vg-bg-content2 vg-border vg-shadow "},F(B.M_S,{className:" vg-w-unit-4 vg-h-unit-4 vg-opacity-80 "}))))),F("div",{className:" vg-absolute vg-top-1/2 vg-transform vg--translate-y-1/2 vg-right-unit-5 vg-w-fit vg-z-20 vg-carousel-next-control"},F(D.M,null,c!==(null==e||null===(n=e.cards)||void 0===n?void 0:n.length)-1&&F(z.Z,{key:"carousel__controls_turn_".concat(e.turnIndex,"_increment")},F(u.Z,{onPress:function(){m(!0),y(!0),v((function(t){var n,a;return c===(null===(n=e.cards)||void 0===n?void 0:n.length)-1||isNaN(t+1)?(null===(a=e.cards)||void 0===a?void 0:a.length)-1:t+1}))},isIconOnly:!0,className:" vg-rounded-full vg-bg-content2 vg-border vg-shadow "},F(B.E8f,{className:" vg-w-unit-4 vg-h-unit-4 vg-opacity-80 "}))))),F("div",{className:" vg-flex vg-h-full vg-gap-unit-4 vg-pr-unit-4 vg-relative vg-carousel-container"},F("div",{className:" vg-ml-unit-4 vg-md:ml-unit-6 vg-message-avatar-container"},F(L.Z,{key:"carousel_chat_avatar_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex)})),null==e||null===(r=e.cards)||void 0===r?void 0:r.map((function(t,n){return F("div",{className:" vg-w-auto vg-h-auto vg-card-container"},F(V,(0,a.Z)({},t,{turnIndex:e.turnIndex,domID:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n),key:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n)})))})),F("div",{className:" vg-w-unit-5 "}))):null};var G=n(5861),U=n(4687),W=n.n(U),H=n(6271),J=n(3356),q=n(4149),K=n(3068),X=n(3711),$=n(8193),Y=n(1257),Q=n(2280),ee=n(1148),te=n(4925),ne=l.createElement;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const oe=function(e){var t,n,r,s,u,c,v,g=(0,i.useRuntime)(),d=g.runtime,f=(g.setRuntime,g.pushChatNotice),m=g.confirmedBucket,p=((0,te.B)().config,(0,l.useState)(e.default||null)),b=p[0],h=p[1],y=(0,l.useState)(!1),w=y[0],x=y[1],O=(0,l.useState)(0),P=O[0],N=O[1],j=(0,l.useState)(0),k=j[0],D=j[1],S=l.useState({fileName:!1}),I=(0,o.Z)(S,2),Z=I[0],C=I[1],E=(0,H.cF)(X.l2,"voiceglow-cdn");l.useEffect((function(){return function(){k&&(null==k||k.cancel())}}),[k]);var M=function(){var t=(0,G.Z)(W().mark((function t(n){var a,r,o,l,i,s,u,c,v;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDisabled){t.next=2;break}return t.abrupt("return");case 2:if(h(!1),e.onStartUpload&&e.onStartUpload(),r=n[0],o=r.size,l=Math.ceil(o/1e6),i="/public",(null===(a=r.name)||void 0===a||null===(a=a.split(".")[1])||void 0===a?void 0:a.toLowerCase())||!1,!e.maxSizeMB){t.next=13;break}if(!(1e6*e.maxSizeMB<o)){t.next=13;break}return f("Max size: ".concat(e.maxSizeMB,"MB"),"fail",2e3),t.abrupt("return");case 13:s=Math.random().toString(36).slice(2,10),u="".concat(i,"/").concat(s,".").concat(r.name.split(".")[1]),c=(0,H.iH)(E,"".concat(u)),v=(0,H.B0)(c,r,{cacheControl:"public,max-age=31536000"}),D(v),v.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);N(t)}),(function(e){}),(function(){(0,H.Jt)(c).then(function(){var t=(0,G.Z)(W().mark((function t(n){var a;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.callback&&e.callback({url:n,path:"".concat(i),id:e.id||!1,dbFilePath:u}),h(n),C((function(e){return re(re({},e),{},{fileName:r.name})})),x(!1),N(0),!e.consumeLT){t.next=10;break}return t.next=8,Y.Z.post("".concat((0,ee.Sw)({region:"voiceglow-eu"===m?"eu":"na"}),"/public/users/").concat(null==d||null===(a=d.variables)||void 0===a?void 0:a.ownerID,"/consume-credits"),{consume:l||1});case 8:t.sent.data;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),x(!0);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=(0,J.uI)({onDrop:M}),T=R.getRootProps,V=R.getInputProps;return R.isDragActive,ne("div",{className:" vg-w-full vg-h-full vg-mx-auto ".concat(b?" vg-bg-primary-400 ":" vg-bg-primary-50 "," vg-p-unit-2 vg-rounded-lg vg-transition-all vg-duration-500 vg-text-primary-800 ").concat(e.isDisabled&&" vg-opacity-75 "," vg-upload-container")},ne("div",(0,a.Z)({},T(),{className:" vg-w-full vg-h-full vg-flex-all-center vg-border-dashed vg-border-2 ".concat(b?" vg-border-foreground ":" vg-border-primary-400 "," vg-rounded-lg ").concat(e.className||" "," vg-transition-all vg-duration-500 vg-upload-drop-container")}),ne("input",V()),b&&!w&&"img"==e.type?ne("img",{className:" vg-w-unit-32 vg-h-unit-32 vg-upload--img-placeholder",src:b}):!b&&!w&&ne($.IEK,{className:" vg-w-unit-12 vg-h-unit-12 vg-upload--icon"}),w?ne(l.Fragment,null,ne(K.Z,{className:" vg-mb-unit-2 vg-upload-spinner",color:"primary"}),ne("p",{className:" vg-opacity-50 vg-mb-unit-2 vg-text-small vg-text-center vg-leading-unit-5 vg-upload-text"},ne(Q.Z,{to:(null===(t=d.variables)||void 0===t?void 0:t.lang)||"en",text:"Uploading.."})," ",ne("br",null),ne(Q.Z,{text:"Please Keep This Tab Open",to:(null===(n=d.variables)||void 0===n?void 0:n.lang)||"en"})),ne("div",{className:" vg-w-[80%] vg-h-unit-5 vg-bg-primary-100 vg-rounded-full vg-overflow-hidden vg-mx-auto vg-upload-loading-container"},ne("div",{className:" vg-h-full vg-bg-primary-700 vg-relative vg-upload-loading--bar",style:{width:"".concat(P||1,"%")}},ne("p",{className:" vg-absolute vg-right-unit-1 vg-top-[2px] vg-text-small vg-text-primary-100 vg-upload-loading--text"},"".concat(P||1,"%"))))):ne(l.Fragment,null,b?ne("div",{className:" vg-text-white "},ne("div",{className:" vg-mb-unit-1 vg-flex vg-items-center vg-font-medium "},ne(q.DVR,{className:" vg-w-unit-4 vg-h-unit-4 vg-mr-unit-2 "}),ne("p",null,ne(Q.Z,{to:(null===(r=d.variables)||void 0===r?void 0:r.lang)||"en",text:"Uploaded Successfully"}))),ne("p",{className:" vg-opacity-75 vg-text-center "},(0,_.MB)(Z.fileName,20))):ne(l.Fragment,null,ne("p",{className:" vg-text-small "},ne(Q.Z,{to:(null===(s=d.variables)||void 0===s?void 0:s.lang)||"en",text:"Drag and Drop Here"})),e.maxSizeMB&&ne("p",{className:" vg-opacity-75 vg-mb-unit-3 vg-text-small "},ne(Q.Z,{to:(null===(u=d.variables)||void 0===u?void 0:u.lang)||"en",text:"Max Size:"})," ",ne("strong",null,e.maxSizeMB,"MB")),e.accept?ne("p",{className:" vg-opacity-75 vg-text-small "},ne(Q.Z,{to:(null===(c=d.variables)||void 0===c?void 0:c.lang)||"en",text:"Only"})," ",e.accept.length?e.accept.map((function(e){return e+" "})):""," ",ne(Q.Z,{to:(null===(v=d.variables)||void 0===v?void 0:v.lang)||"en",text:"Files"})):""))))};var le=l.createElement;function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ue=function(e){var t=(0,i.useRuntime)(),n=t.runtime,a=t.setRuntime,r=t.handlePushMessage,s=t.clearNoReplyTimeout,c=l.useState(!1),v=(0,o.Z)(c,2),g=v[0],d=v[1];return l.useEffect((function(){a((function(e){return se(se({},e),{},{blockInput:!0})}))}),[]),le("div",{className:" vg-flex vg-flex-col vg-gap-unit-2 vg-w-full vg-bg-transparent vg-message-upload-container"},le("div",{key:"file_upload_instance_turn".concat(e.turnIndex,"_message").concat(e.messageIndex," vg-message-upload-inner"),className:" vg-w-full vg-h-[175px] "},le(oe,{onStartUpload:function(){s()},consumeLT:!0,isDisabled:g,maxSizeMB:30,path:"vg-widgets/".concat(n.variables.ID,"/user-uploads"),callback:function(e){d(!0),a((function(e){return se(se({},e),{},{blockInput:!1})})),r("".concat(e.url),{type:"text",payload:"".concat(e.url)})}})),le(u.Z,{isDisabled:g,onPress:function(){d(!0),a((function(e){return se(se({},e),{},{blockInput:!1})})),r("VG_Cancel",{type:"text",payload:"VG_Cancel"})},className:" vg-py-unit-2 vg-w-full ",color:"danger"},"Cancel"))};var ce=l.createElement;const ve=function(e){return ce(z.Z,{key:"chat_timestamb_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex),className:" vg-w-unit-5 vg-h-full vg-flex vg-items-center vg-justify-center vg-mr-1 "},ce("p",{className:" vg-text-[10px] vg-opacity-50 vg-whitespace-nowrap vg-text-foreground "},e.ts?k().unix(e.ts).format("HH:mm"):k()().format("HH:mm")))};var ge=n(6822),de=n(9982),fe=n(3899),me=(0,g.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-tap-highlight-transparent vg-p-2 vg--m-2 ",wrapper:[" vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-before:content-[''] "," vg-before:absolute "," vg-before:inset-0 "," vg-before:border-solid "," vg-before:border-2 "," vg-before:box-border "," vg-before:border-default "," vg-after:content-[''] "," vg-after:absolute "," vg-after:inset-0 "," vg-after:scale-50 "," vg-after:opacity-0 "," vg-after:origin-center "," vg-group-data-[selected=true]:after:scale-100 "," vg-group-data-[selected=true]:after:opacity-100 "," vg-group-data-[hover=true]:before:bg-default-100 "].concat((0,s.Z)(fe.ID)),icon:" vg-z-10 vg-w-4 vg-h-3 vg-opacity-0 vg-group-data-[selected=true]:opacity-100 ",label:" vg-relative vg-text-foreground vg-select-none "},variants:{color:{default:{wrapper:" vg-after:bg-default vg-after:text-default-foreground vg-text-default-foreground "},primary:{wrapper:" vg-after:bg-primary vg-after:text-primary-foreground vg-text-primary-foreground "},secondary:{wrapper:" vg-after:bg-secondary vg-after:text-secondary-foreground vg-text-secondary-foreground "},success:{wrapper:" vg-after:bg-success vg-after:text-success-foreground vg-text-success-foreground "},warning:{wrapper:" vg-after:bg-warning vg-after:text-warning-foreground vg-text-warning-foreground "},danger:{wrapper:" vg-after:bg-danger vg-after:text-danger-foreground vg-text-danger-foreground "}},size:{sm:{wrapper:[" vg-w-4 vg-h-4 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.5)] "],label:" vg-text-small ",icon:" vg-w-3 vg-h-2 "},md:{wrapper:[" vg-w-5 vg-h-5 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.6)] "],label:" vg-text-medium ",icon:" vg-w-4 vg-h-3 "},lg:{wrapper:[" vg-w-6 vg-h-6 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.7)] "],label:" vg-text-large ",icon:" vg-w-5 vg-h-4 "}},radius:{none:{wrapper:" vg-rounded-none vg-before:rounded-none vg-after:rounded-none "},sm:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.5)] "]},md:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.6)] "]},lg:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.7)] "]},full:{wrapper:" vg-rounded-full vg-before:rounded-full vg-after:rounded-full "}},lineThrough:{true:{label:[" vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-before:content-[''] "," vg-before:absolute "," vg-before:bg-foreground "," vg-before:w-0 "," vg-before:h-0.5 "," vg-group-data-[selected=true]:opacity-60 "," vg-group-data-[selected=true]:before:w-full "]}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isInvalid:{true:{wrapper:" vg-before:border-danger ",label:" vg-text-danger "}},disableAnimation:{true:{wrapper:" vg-transition-none ",icon:" vg-transition-none ",label:" vg-transition-none "},false:{wrapper:[" vg-before:transition-colors "," vg-group-data-[pressed=true]:scale-95 "," vg-transition-transform "," vg-after:transition-transform-opacity "," vg-after:!ease-linear "," vg-after:!duration-200 "," vg-motion-reduce:transition-none "],icon:" vg-transition-opacity vg-motion-reduce:transition-none ",label:" vg-transition-colors-opacity vg-before:transition-width vg-motion-reduce:transition-none "}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,lineThrough:!1,disableAnimation:!1}}),pe=(0,g.tv)({slots:{base:" vg-relative vg-flex vg-flex-col vg-gap-2 ",label:" vg-relative vg-text-medium vg-text-foreground-500 ",wrapper:" vg-flex vg-flex-col vg-flex-wrap vg-gap-2 vg-data-[orientation=horizontal]:flex-row ",description:" vg-text-small vg-text-foreground-400 ",errorMessage:" vg-text-small vg-text-danger "},variants:{isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isInvalid:{true:{description:" vg-text-danger "}},disableAnimation:{true:{},false:{description:" vg-transition-colors vg-!duration-150 vg-motion-reduce:transition-none "}}},defaultVariants:{isInvalid:!1,isRequired:!1,disableAnimation:!1}}),be=n(8922),he=n(8552),ye=n(8628),we=n(1844),xe=n(1744),Oe=n(2046),Pe=n(4720),Ne=n(9344),je=n(6347),ke=(0,je.k)({name:"CheckboxGroupContext",strict:!1}),De=(0,o.Z)(ke,2),Se=De[0],Ie=De[1],Ze=["as","ref","value","children","icon","name","isRequired","isReadOnly","autoFocus","isSelected","validationState","size","color","radius","lineThrough","isDisabled","disableAnimation","isInvalid","isIndeterminate","defaultSelected","classNames","onChange","className","onValueChange"];function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=["isSelected","disableAnimation"],Me=["isSelected","disableAnimation"],Re=["isIndeterminate"],Te=l.createElement;function Ve(e){var t=e.isSelected,n=e.disableAnimation,r=(0,v.Z)(e,_e);return Te("svg",(0,a.Z)({"aria-hidden":"true",role:"presentation",viewBox:"0 0 17 18"},r),Te("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!n&&t?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{}}))}function Be(e){e.isSelected,e.disableAnimation;var t=(0,v.Z)(e,Me);return Te("svg",(0,a.Z)({stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24"},t),Te("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))}function Le(e){var t=e.isIndeterminate,n=(0,v.Z)(e,Re);return Te(t?Be:Ve,n)}var ze=l.createElement;function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=(0,c.Gp)((function(e,t){var n=function(){var e,t,n,a,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Ie(),u=!!s,c=i.as,g=i.ref,d=i.value,p=void 0===d?"":d,b=i.children,h=i.icon,y=i.name,w=i.isRequired,x=void 0!==w&&w,O=i.isReadOnly,P=void 0!==O&&O,N=i.autoFocus,j=void 0!==N&&N,k=i.isSelected,D=i.validationState,S=i.size,I=void 0===S?null!==(e=null==s?void 0:s.size)&&void 0!==e?e:"md":S,Z=i.color,C=void 0===Z?null!==(t=null==s?void 0:s.color)&&void 0!==t?t:"primary":Z,E=i.radius,_=void 0===E?null==s?void 0:s.radius:E,M=i.lineThrough,R=void 0===M?null!==(n=null==s?void 0:s.lineThrough)&&void 0!==n&&n:M,T=i.isDisabled,V=void 0===T?null!==(a=null==s?void 0:s.isDisabled)&&void 0!==a&&a:T,B=i.disableAnimation,L=void 0===B?null!==(r=null==s?void 0:s.disableAnimation)&&void 0!==r&&r:B,z=i.isInvalid,F=void 0===z?D?"invalid"===D:null!==(o=null==s?void 0:s.isInvalid)&&void 0!==o&&o:z,A=i.isIndeterminate,G=void 0!==A&&A,U=i.defaultSelected,W=i.classNames,H=i.onChange,J=i.className,q=i.onValueChange,K=(0,v.Z)(i,Ze);s&&f.Ts&&(k&&(0,Oe.Z)("The Checkbox.Group is being used, `isSelected` will be ignored. Use the `value` of the Checkbox.Group instead.","Checkbox"),U&&(0,Oe.Z)("The Checkbox.Group is being used, `defaultSelected` will be ignored. Use the `defaultValue` of the Checkbox.Group instead.","Checkbox"));var X=c||"label",$=(0,l.useRef)(null),Y=(0,xe.rV)(g,$),Q=(0,l.useId)(),ee=(0,l.useMemo)((function(){return{name:y,value:p,children:b,autoFocus:j,defaultSelected:U,isIndeterminate:G,isRequired:x,isInvalid:F,isSelected:k,isDisabled:V,isReadOnly:P,"aria-label":(0,Pe.x)(K["aria-label"],b),"aria-labelledby":K["aria-labelledby"]||Q,onChange:q}}),[p,y,Q,b,j,F,G,V,P,k,U,K["aria-label"],K["aria-labelledby"],q]),te=u?(0,Ne.a8)(Ee(Ee({},ee),{},{isInvalid:F}),s.groupState,$):(0,Ne.O)(ee,(0,de.l)(ee),$),ne=te.inputProps,ae=te.isSelected,re=te.isDisabled,oe=te.isReadOnly,le=te.isPressed,ie=re||oe,se=(0,l.useState)(!1),ue=se[0],ce=se[1],ve=(0,he.r)({isDisabled:ie,onPressStart:function(e){"keyboard"!==e.pointerType&&ce(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&ce(!1)}}).pressProps,ge=!ie&&(ue||le);x&&(ne.required=!0);var fe=(0,be.XI)({isDisabled:ne.disabled}),pe=fe.hoverProps,je=fe.isHovered,ke=(0,ye.Fx)({autoFocus:ne.autoFocus}),De=ke.focusProps,Se=ke.isFocused,Ce=ke.isFocusVisible,_e=(0,l.useMemo)((function(){return me({color:C,size:I,radius:_,isInvalid:F,lineThrough:R,isDisabled:re,disableAnimation:L})}),[C,I,_,F,R,re,L]),Me=(0,m.W)(null==W?void 0:W.base,J),Re=(0,l.useCallback)((function(){return Ee({ref:Y,className:_e.base({class:Me}),"data-disabled":(0,f.PB)(re),"data-selected":(0,f.PB)(ae||G),"data-invalid":(0,f.PB)(F),"data-hover":(0,f.PB)(je),"data-focus":(0,f.PB)(Se),"data-pressed":(0,f.PB)(ge),"data-readonly":(0,f.PB)(ne.readOnly),"data-focus-visible":(0,f.PB)(Ce),"data-indeterminate":(0,f.PB)(G)},(0,we.dG)(pe,ve,K))}),[_e,Me,re,ae,G,F,je,Se,ge,ne.readOnly,Ce,pe,ve,K]),Te=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ee(Ee({},e),{},{"aria-hidden":!0,className:(0,m.W)(_e.wrapper({class:(0,m.W)(null==W?void 0:W.wrapper,null==e?void 0:e.className)}))})}),[_e,null==W?void 0:W.wrapper]),Ve=(0,l.useCallback)((function(){return Ee(Ee({ref:$},(0,we.dG)(ne,De)),{},{onChange:(0,we.tS)(ne.onChange,H)})}),[ne,De,H]),Be=(0,l.useCallback)((function(){return{id:Q,className:_e.label({class:null==W?void 0:W.label})}}),[_e,null==W?void 0:W.label,re,ae,F]),Le=(0,l.useCallback)((function(){return{isSelected:ae,isIndeterminate:!!G,disableAnimation:!!L,className:_e.icon({class:null==W?void 0:W.icon})}}),[_e,null==W?void 0:W.icon,ae,G,L]);return{Component:X,icon:h,children:b,isSelected:ae,isDisabled:re,isInvalid:F,isFocused:Se,isHovered:je,isFocusVisible:Ce,getBaseProps:Re,getWrapperProps:Te,getInputProps:Ve,getLabelProps:Be,getIconProps:Le}}(Ae(Ae({},e),{},{ref:t})),a=n.Component,r=n.children,o=n.icon,i=void 0===o?ze(Le,null):o,s=n.getBaseProps,u=n.getWrapperProps,c=n.getInputProps,g=n.getIconProps,d=n.getLabelProps,p="function"==typeof i?i(g()):(0,l.cloneElement)(i,g());return ze(a,s(),ze(ge.T,null,ze("input",c())),ze("span",u(),p),r&&ze("span",d(),r))}));Ge.displayName="NextUI.Checkbox";const Ue=Ge;var We=l.createElement;function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const qe=function(e){var t,n,a,r,c=(0,i.useRuntime)(),v=c.runtime,g=c.setRuntime,d=c.handlePushMessage,f=c.pushChatNotice,m=c.formattedTurnsValue,p=l.useState([]),b=(0,o.Z)(p,2),h=b[0],y=b[1],w=l.useState(!1),x=(0,o.Z)(w,2),O=x[0],P=x[1],N=m.length-1,j=e.buttons[e.buttons.length-1],D=Number((null==j||null===(t=j.name)||void 0===t||null===(t=t.split(":"))||void 0===t?void 0:t.length)>=2?null==j||null===(n=j.name)||void 0===n||null===(n=n.split(":")[1])||void 0===n?void 0:n.replace(/[^0-9.]/g,""):99),S=e.buttons.slice(0,e.buttons.length-1).filter((function(e){return"0"!=e.name&&e.name&&"VG_Block"!==e.name})),I=h.length?JSON.stringify({maskAs:{from:"human",type:"info:success",item:"Successfully Selected",delay:0},origin:"VG_Response",type:"VG_MultiSelect",selected:S.flatMap((function(e,t){return h.includes(t)?e.name:[]}))}):"VG_Cancel";return l.useEffect((function(){e.buttons.find((function(e){return"VG_Block"===e.name}))?g((function(t){return Je(Je({},t),{},{blockInput:!(N>e.turnIndex)})})):g((function(e){return Je(Je({},e),{},{blockInput:!1})}))}),[]),We("div",{className:" vg-w-full vg-flex vg-flex-col vg-gap-unit-4 vg-multiselect-container",key:"VG_MultiSelect_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex)},We("div",{className:" vg-grid vg-grid-cols-2 vg-gap-unit-3 vg-w-full vg-multiselect-options-container"},S.map((function(t,n){return We(Ue,{className:" vg-w-full vg-flex ".concat(t.name.length>=15?" vg-col-span-2 ":" vg-col-span-1 "," vg-multiselect-option"),classNames:{base:" vg-w-full vg-inline vg-multiselect-option--base",label:" vg-w-full vg-p-unit-1 vg-px-unit-3 vg-rounded-large vg-text-left vg-word-wrap ".concat(h.includes(n)?" vg-bg-primary vg-text-white ":" vg-bg-primary-50 vg-hover:bg-primary-100 "," vg-multiselect-option--label")},isSelected:h.includes(n),onValueChange:function(){var e=(0,G.Z)(W().mark((function e(t){var a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,(0,_.cG)({translateTo:v.lang,text:"Maximum selection is ".concat(D," items.")});case 3:if(a=e.sent,!(D<h.length+1)){e.next=6;break}return e.abrupt("return",f(a,"fail",2500));case 6:y((function(e){return[].concat((0,s.Z)(e),[n]).sort((function(e,t){return e-t}))})),e.next=10;break;case 9:y((function(e){return(0,s.Z)(e.filter((function(e){return e!==n})))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),key:"VG_MultiSelect_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_index_").concat(n),color:"primary"},We("p",{className:" vg-w-full vg-multiselect-option--text"},t.name))}))),We("div",{className:" vg-grid vg-grid-cols-3 vg-gap-3 vg-col-span-full vg-w-full vg-multiselect-btns-container"},We(u.Z,{isDisabled:O||N!==e.turnIndex,variant:"ghost",color:"primary",className:" vg-w-full vg-col-span-2 vg-bg-primary-50 vg-multiselect-submit-btn",onPress:(0,G.Z)(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),g((function(e){return Je(Je({},e),{},{blockInput:!1})})),e.next=4,(0,_.cG)({translateTo:v.lang,text:"Successfully Selected"});case 4:t=e.sent,d(j.name,j.request,null,{from:"human",messages:[{from:"human",type:"info:success",item:t,delay:0}],ts:k()().unix()}).then((function(){setTimeout((0,G.Z)(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(I,{type:"text",payload:I},null,{from:"human",messages:[{from:"human",type:"info:success",item:t,delay:0}],ts:k()().unix()},!0);case 2:case"end":return e.stop()}}),e)}))),1500)}));case 6:case"end":return e.stop()}}),e)})))},We(Q.Z,{to:null===(a=v.variables)||void 0===a?void 0:a.lang,text:"Select"})),We(u.Z,{isDisabled:O||N!==e.turnIndex,variant:"faded",color:"danger",className:" vg-w-full vg-col-span-1 vg-multiselect-cancel-btn",onPress:(0,G.Z)(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),g((function(e){return Je(Je({},e),{},{blockInput:!1})})),e.next=4,(0,_.cG)({translateTo:v.lang,text:"Cancelled Selection"});case 4:return t=e.sent,e.next=7,d(j.name,j.request,null,{from:"human",messages:[{from:"human",type:"info:danger",item:t,delay:0}],ts:k()().unix()});case 7:setTimeout((0,G.Z)(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(I,{type:"text",payload:"VG_Cancel"},null,{from:"human",messages:[{from:"human",type:"info:danger",item:t,delay:0}],ts:k()().unix()},!0);case 2:case"end":return e.stop()}}),e)}))),500);case 8:case"end":return e.stop()}}),e)})))},We(Q.Z,{to:null===(r=v.variables)||void 0===r?void 0:r.lang,text:"Cancel"}))))};var Ke=n(3260),Xe=n(5935),$e=l.createElement;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const et=function(e){var t,n,a,r,i,s,u,c,v=l.useRef(null),g=null!=e&&null!==(t=e.itemData)&&void 0!==t&&null!==(t=t.payload)&&void 0!==t&&t.url?null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.url:null!=e&&null!==(a=e.itemData)&&void 0!==a&&null!==(a=a.payload)&&void 0!==a&&a.url?"":null!=e&&e.hardLink||null!=e&&null!==(r=e.itemData)&&void 0!==r&&r.payload?null!==(i=(null==e?void 0:e.hardLink)||(null==e||null===(s=e.itemData)||void 0===s?void 0:s.payload)||"")&&void 0!==i&&i.includes("https://")?(null==e?void 0:e.hardLink)||(null==e||null===(u=e.itemData)||void 0===u?void 0:u.payload):"https://"+((null==e?void 0:e.hardLink)||(null==e||null===(c=e.itemData)||void 0===c?void 0:c.payload)):"",d=l.useState(!e.iFrame),f=(0,o.Z)(d,2),m=f[0],p=f[1],b=(0,l.useState)({url:g,height:"55dvh"}),h=b[0],y=b[1],w=l.useMemo((function(){try{var t,n;return null!=e&&null!==(t=e.itemData)&&void 0!==t&&null!==(t=t.payload)&&void 0!==t&&t.height&&y((function(t){var n;return Qe(Qe({},t),{},{height:null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.height})})),null!=e&&null!==(n=e.itemData)&&void 0!==n&&null!==(n=n.payload)&&void 0!==n&&n.url&&y((function(t){var n;return Qe(Qe({},t),{},{url:null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.url})})),!0}catch(e){return!1}}),[e.websiteUrl]);return $e(C.Z,{className:" vg-rounded-xl vg-overflow-x-auto vg-!w-fit vg-h-auto ".concat((e.iFrame," ")," vg-iframe--container"),isLoaded:!m},g.includes("<iframe")&&g.includes("</iframe>")?(0,Xe.ZP)(g):$e("iframe",{allowFullScreen:!0,style:{height:e.iFrame?"100%":e.iframeOptions?e.iframeOptions.height:"55vh"},ref:v,onLoad:function(){p(!1)},src:w?h.url:g,className:" vg-w-full vg-overflow-auto vg-relative ".concat(e.iFrame?" vg-aspect-video ":" "," vg-iframe"),width:"100%",height:"100%"}))};var tt=n(168),nt=n(2973),at=n(1491),rt=n(3206),ot=["as","ref","classNames","children","label","radius","value","name","defaultValue","size","color","orientation","lineThrough","isDisabled","disableAnimation","validationState","isInvalid","isReadOnly","isRequired","onValueChange","description","errorMessage","className"];function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=l.createElement;function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=(0,c.Gp)((function(e,t){var n=function(e){var t=e.as,n=e.ref,a=e.classNames,r=e.children,o=e.label,i=e.radius,s=e.value,u=e.name,c=e.defaultValue,g=e.size,d=void 0===g?"md":g,f=e.color,p=void 0===f?"primary":f,b=e.orientation,h=void 0===b?"vertical":b,y=e.lineThrough,w=void 0!==y&&y,x=e.isDisabled,O=void 0!==x&&x,P=e.disableAnimation,N=void 0!==P&&P,j=e.validationState,k=e.isInvalid,D=void 0===k?"invalid"===j:k,S=e.isReadOnly,I=e.isRequired,Z=e.onValueChange,C=e.description,E=e.errorMessage,_=e.className,M=(0,v.Z)(e,ot),R=t||"div",T=(0,xe.gy)(n),V=(0,l.useMemo)((function(){return it({value:s,name:u,"aria-label":(0,Pe.x)(M["aria-label"],o),defaultValue:c,isRequired:I,isInvalid:D,isReadOnly:S,orientation:h,onChange:Z},M)}),[s,u,o,c,I,S,D,h,Z,M["aria-label"],M]),B=(0,rt.$)(V),L=(0,Ne.u6)(V,B),z=L.labelProps,F=L.groupProps,A=L.descriptionProps,G=L.errorMessageProps,U=(0,l.useMemo)((function(){return{size:d,color:p,radius:i,lineThrough:w,isInvalid:D,isDisabled:O,disableAnimation:N,groupState:B}}),[d,p,i,w,O,N,D,null==B?void 0:B.value,null==B?void 0:B.isDisabled,null==B?void 0:B.isReadOnly,null==B?void 0:B.isInvalid,null==B?void 0:B.isSelected]),W=(0,l.useMemo)((function(){return pe({isRequired:I,isInvalid:D,disableAnimation:N})}),[I,D,N]),H=(0,m.W)(null==a?void 0:a.base,_),J=(0,l.useCallback)((function(){return it({ref:T,className:W.base({class:H})},(0,we.dG)(F,M))}),[W,T,H,F,M]),q=(0,l.useCallback)((function(){return it({className:W.label({class:null==a?void 0:a.label})},z)}),[W,z,null==a?void 0:a.label]),K=(0,l.useCallback)((function(){return{className:W.wrapper({class:null==a?void 0:a.wrapper}),role:"presentation","data-orientation":h}}),[W,h,null==a?void 0:a.wrapper]),X=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return it(it(it({},e),A),{},{className:W.description({class:(0,m.W)(null==a?void 0:a.description,null==e?void 0:e.className)})})}),[W,A,null==a?void 0:a.description]),$=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return it(it(it({},e),G),{},{className:W.errorMessage({class:(0,m.W)(null==a?void 0:a.errorMessage,null==e?void 0:e.className)})})}),[W,G,null==a?void 0:a.errorMessage]);return{Component:R,children:r,label:o,context:U,description:C,errorMessage:E,getGroupProps:J,getLabelProps:q,getWrapperProps:K,getDescriptionProps:X,getErrorMessageProps:$}}(ct(ct({},e),{},{ref:t})),a=n.children,r=n.context,o=n.label,i=n.description,s=n.errorMessage,u=n.getGroupProps,c=n.getLabelProps,g=n.getWrapperProps,d=n.getDescriptionProps,f=n.getErrorMessageProps;return st("div",u(),o&&st("span",c(),o),st("div",g(),st(Se,{value:r},a)),s?st("div",f(),s):i?st("div",d(),i):null)}));vt.displayName="NextUI.CheckboxGroup";const gt=vt;var dt,ft,mt=n(9660),pt=l.createElement;nt.ZP.div(dt||(dt=(0,tt.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),nt.ZP.div(ft||(ft=(0,tt.Z)(["\n"])));function bt(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,at.xB)(t)),r=a.options,o=a.customOption,i=(0,l.useState)([]),s=i[0],u=i[1],c=(0,l.useState)(!1),v=c[0],g=(c[1],(0,l.useState)("")),d=g[0],f=g[1];return l.useEffect((function(){n((function(e){var n=e,a=s.map((function(e){return"Other"===e?d:e}));return n[t]=a,n}))}),[s,d]),pt(gt,{onValueChange:function(e){u(e)},value:s},r.map((function(e){return pt(Ue,{id:e.id,key:e.id,value:e.label},e.label)})),o&&pt(l.Fragment,null,pt(Ue,{id:t,key:t,value:"Other",isSelected:v},"Other"),pt(mt.Z,{classNames:{input:" vg-font-bold "},variant:"bordered",onValueChange:function(e){f(e)},value:d,size:"sm"})))}var ht=(0,je.k)({name:"RadioGroupContext",strict:!1}),yt=(0,o.Z)(ht,2),wt=yt[0],xt=yt[1],Ot=(0,g.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-tap-highlight-transparent vg-p-2 vg--m-2 ",wrapper:[" vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-border-solid "," vg-border-medium "," vg-box-border "," vg-border-default "," vg-rounded-full "," vg-group-data-[hover-unselected=true]:bg-default-100 "].concat((0,s.Z)(fe.ID)),labelWrapper:" vg-flex vg-flex-col vg-ml-1 ",control:[" vg-z-10 "," vg-w-2 "," vg-h-2 "," vg-opacity-0 "," vg-scale-0 "," vg-origin-center "," vg-rounded-full "," vg-group-data-[selected=true]:opacity-100 "," vg-group-data-[selected=true]:scale-100 "],label:" vg-relative vg-text-foreground vg-select-none ",description:" vg-relative vg-text-foreground-400 "},variants:{color:{default:{control:" vg-bg-default-500 vg-text-default-foreground ",wrapper:" vg-group-data-[selected=true]:border-default-500 "},primary:{control:" vg-bg-primary vg-text-primary-foreground ",wrapper:" vg-group-data-[selected=true]:border-primary "},secondary:{control:" vg-bg-secondary vg-text-secondary-foreground ",wrapper:" vg-group-data-[selected=true]:border-secondary "},success:{control:" vg-bg-success vg-text-success-foreground ",wrapper:" vg-group-data-[selected=true]:border-success "},warning:{control:" vg-bg-warning vg-text-warning-foreground ",wrapper:" vg-group-data-[selected=true]:border-warning "},danger:{control:" vg-bg-danger vg-text-danger-foreground ",wrapper:" vg-group-data-[selected=true]:border-danger "}},size:{sm:{wrapper:" vg-w-4 vg-h-4 ",control:" vg-w-1.5 vg-h-1.5 ",labelWrapper:" vg-ml-1 ",label:" vg-text-small ",description:" vg-text-tiny "},md:{wrapper:" vg-w-5 vg-h-5 ",control:" vg-w-2 vg-h-2 ",labelWrapper:" vg-ml-2 ",label:" vg-text-medium ",description:" vg-text-small "},lg:{wrapper:" vg-w-6 vg-h-6 ",control:" vg-w-2.5 vg-h-2.5 ",labelWrapper:" vg-ml-2 ",label:" vg-text-large ",description:" vg-text-medium "}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isInvalid:{true:{control:" vg-bg-danger vg-text-danger-foreground ",wrapper:" vg-border-danger vg-group-data-[selected=true]:border-danger ",label:" vg-text-danger ",description:" vg-text-danger-300 "}},disableAnimation:{true:{},false:{wrapper:[" vg-group-data-[pressed=true]:scale-95 "," vg-transition-transform-colors "," vg-motion-reduce:transition-none "],control:" vg-transition-transform-opacity vg-motion-reduce:transition-none ",label:" vg-transition-colors vg-motion-reduce:transition-none ",description:" vg-transition-colors vg-motion-reduce:transition-none "}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,isInvalid:!1,disableAnimation:!1}}),Pt=(0,g.tv)({slots:{base:" vg-relative vg-flex vg-flex-col vg-gap-2 ",label:" vg-relative vg-text-foreground-500 ",wrapper:" vg-flex vg-flex-col vg-flex-wrap vg-gap-2 vg-data-[orientation=horizontal]:flex-row ",description:" vg-text-tiny vg-text-foreground-400 ",errorMessage:" vg-text-tiny vg-text-danger "},variants:{isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isInvalid:{true:{description:" vg-text-danger "}},disableAnimation:{true:{},false:{description:" vg-transition-colors vg-!duration-150 vg-motion-reduce:transition-none "}}},defaultVariants:{isInvalid:!1,isRequired:!1,disableAnimation:!1}}),Nt=n(5279),jt=n(7490),kt=["as","ref","classNames","children","label","value","name","size","color","isDisabled","disableAnimation","orientation","isRequired","validationState","isInvalid","isReadOnly","errorMessage","description","className","onChange","onValueChange"];function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=l.createElement;function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=(0,c.Gp)((function(e,t){var n=function(e){var t=e.as,n=e.ref,a=e.classNames,r=e.children,o=e.label,i=e.value,s=e.name,u=e.size,c=void 0===u?"md":u,g=e.color,d=void 0===g?"primary":g,f=e.isDisabled,p=void 0!==f&&f,b=e.disableAnimation,h=void 0!==b&&b,y=e.orientation,w=void 0===y?"vertical":y,x=e.isRequired,O=void 0!==x&&x,P=e.validationState,N=e.isInvalid,j=void 0===N?"invalid"===P:N,k=e.isReadOnly,D=e.errorMessage,S=e.description,I=e.className,Z=e.onChange,C=e.onValueChange,E=(0,v.Z)(e,kt),_=t||"div",M=(0,xe.gy)(n),R=(0,l.useMemo)((function(){return St(St({},E),{},{value:i,name:s,"aria-label":(0,Pe.x)(E["aria-label"],o),isRequired:O,isReadOnly:k,isInvalid:j,orientation:w,onChange:C})}),[E,i,s,o,O,k,j,w,C]),T=(0,Nt.w)(R),V=(0,jt.a)(R,T),B=V.labelProps,L=V.radioGroupProps,z=V.errorMessageProps,F=V.descriptionProps,A=(0,l.useMemo)((function(){return{size:c,color:d,groupState:T,isRequired:O,isInvalid:j,isDisabled:p,disableAnimation:h,onChange:Z}}),[c,d,O,p,j,Z,h,T.name,null==T?void 0:T.isDisabled,null==T?void 0:T.isReadOnly,null==T?void 0:T.isRequired,null==T?void 0:T.selectedValue,null==T?void 0:T.lastFocusedValue]),G=(0,l.useMemo)((function(){return Pt({isRequired:O,isInvalid:j,disableAnimation:h})}),[j,O,h]),U=(0,m.W)(null==a?void 0:a.base,I),W=(0,l.useCallback)((function(){return St({ref:M,className:G.base({class:U})},(0,we.dG)(L,E))}),[M,G,U,L,E]),H=(0,l.useCallback)((function(){return St({className:G.label({class:null==a?void 0:a.label})},B)}),[G,null==a?void 0:a.label,B,null==a?void 0:a.label]),J=(0,l.useCallback)((function(){return{className:G.wrapper({class:null==a?void 0:a.wrapper}),role:"presentation","data-orientation":w}}),[G,null==a?void 0:a.wrapper,w,G.wrapper]),q=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St(St(St({},e),F),{},{className:G.description({class:(0,m.W)(null==a?void 0:a.description,null==e?void 0:e.className)})})}),[G,null==a?void 0:a.description,F,G.description]),K=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St(St(St({},e),z),{},{className:G.errorMessage({class:(0,m.W)(null==a?void 0:a.errorMessage,null==e?void 0:e.className)})})}),[G,null==a?void 0:a.errorMessage,z]);return{Component:_,children:r,label:o,context:A,errorMessage:D,description:S,getGroupProps:W,getLabelProps:H,getWrapperProps:J,getDescriptionProps:q,getErrorMessageProps:K}}(Ct(Ct({},e),{},{ref:t})),a=n.Component,r=n.children,o=n.label,i=n.context,s=n.description,u=n.errorMessage,c=n.getGroupProps,g=n.getLabelProps,d=n.getWrapperProps,f=n.getDescriptionProps,p=n.getErrorMessageProps;return It(a,c(),o&&It("span",g(),o),It("div",d(),It(wt,{value:i},r)),u?It("div",p(),u):s?It("div",f(),s):null)}));Et.displayName="NextUI.RadioGroup";const _t=Et;var Mt=["as","ref","classNames","id","value","children","description","size","color","isDisabled","disableAnimation","onChange","autoFocus","className"];function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=l.createElement;function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=(0,c.Gp)((function(e,t){var n=function(e){var t,n,a,r,o=xt(),i=e.as,s=e.ref,u=e.classNames,c=e.id,g=e.value,d=e.children,p=e.description,b=e.size,h=void 0===b?null!==(t=null==o?void 0:o.size)&&void 0!==t?t:"md":b,y=e.color,w=void 0===y?null!==(n=null==o?void 0:o.color)&&void 0!==n?n:"primary":y,x=e.isDisabled,O=void 0===x?null!==(a=null==o?void 0:o.isDisabled)&&void 0!==a&&a:x,P=e.disableAnimation,N=void 0===P?null!==(r=null==o?void 0:o.disableAnimation)&&void 0!==r&&r:P,j=e.onChange,k=void 0===j?null==o?void 0:o.onChange:j,D=e.autoFocus,S=void 0!==D&&D,I=e.className,Z=(0,v.Z)(e,Mt);o&&f.Ts&&("checked"in Z&&(0,Oe.Z)('Remove props "checked" if in the Radio.Group.',"Radio"),void 0===g&&(0,Oe.Z)('Props "value" must be defined if in the Radio.Group.',"Radio"));var C=i||"label",E=(0,xe.gy)(s),_=(0,l.useRef)(null),M=(0,l.useId)(),R=(0,l.useMemo)((function(){var e;return null!==(e=o.isRequired)&&void 0!==e&&e}),[o.isRequired]),T=o.isInvalid,V=(0,l.useMemo)((function(){var e=Z["aria-label"]||"string"==typeof d?d:void 0,t=Z["aria-describedby"]||"string"==typeof p?p:void 0;return{id:c,isRequired:R,isDisabled:O,"aria-label":e,"aria-labelledby":Z["aria-labelledby"]||M,"aria-describedby":t}}),[M,c,O,R]),B=(0,jt.x)(Tt(Tt({value:g,children:d},o),V),o.groupState,_),L=B.inputProps,z=B.isDisabled,F=B.isSelected,A=B.isPressed,G=(0,ye.Fx)({autoFocus:S}),U=G.focusProps,W=G.isFocused,H=G.isFocusVisible,J=z||L.readOnly,q=(0,l.useState)(!1),K=q[0],X=q[1],$=(0,he.r)({isDisabled:J,onPressStart:function(e){"keyboard"!==e.pointerType&&X(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&X(!1)}}).pressProps,Y=(0,be.XI)({isDisabled:J}),Q=Y.hoverProps,ee=Y.isHovered,te=!J&&(K||A),ne=(0,l.useMemo)((function(){return Ot({color:w,size:h,isInvalid:T,isDisabled:z,disableAnimation:N})}),[w,h,z,T,N]),ae=(0,m.W)(null==u?void 0:u.base,I),re=(0,l.useCallback)((function(){return Tt(Tt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:E,className:ne.base({class:ae}),"data-disabled":(0,f.PB)(z),"data-focus":(0,f.PB)(W),"data-focus-visible":(0,f.PB)(H),"data-selected":(0,f.PB)(F),"data-invalid":(0,f.PB)(T),"data-hover":(0,f.PB)(ee),"data-pressed":(0,f.PB)(te),"data-hover-unselected":(0,f.PB)(ee&&!F),"data-readonly":(0,f.PB)(L.readOnly),"aria-required":(0,f.PB)(R)},(0,we.dG)(Q,$,Z))}),[ne,ae,E,z,W,H,F,T,ee,te,L.readOnly,R,Z]),oe=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tt(Tt({},e),{},{"aria-hidden":!0,className:(0,m.W)(ne.wrapper({class:(0,m.W)(null==u?void 0:u.wrapper,e.className)}))})}),[ne,null==u?void 0:u.wrapper]),le=(0,l.useCallback)((function(){return Tt(Tt(Tt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:_,required:R},(0,we.dG)(L,U)),{},{onChange:(0,we.tS)(L.onChange,k)})}),[L,U,R,k]),ie=(0,l.useCallback)((function(){return Tt(Tt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{id:M,className:ne.label({class:null==u?void 0:u.label})})}),[ne,null==u?void 0:u.label,z,F,T]),se=(0,l.useCallback)((function(){return Tt(Tt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{className:ne.labelWrapper({class:null==u?void 0:u.labelWrapper})})}),[ne,null==u?void 0:u.labelWrapper]),ue=(0,l.useCallback)((function(){return Tt(Tt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{className:ne.control({class:null==u?void 0:u.control})})}),[ne,null==u?void 0:u.control]);return{Component:C,children:d,slots:ne,classNames:u,description:p,isSelected:F,isDisabled:z,isInvalid:T,isFocusVisible:H,getBaseProps:re,getWrapperProps:oe,getInputProps:le,getLabelProps:ie,getLabelWrapperProps:se,getControlProps:ue}}(Lt(Lt({},e),{},{ref:t})),a=n.Component,r=n.children,o=n.slots,i=n.classNames,s=n.description,u=n.getBaseProps,c=n.getWrapperProps,g=n.getInputProps,d=n.getLabelProps,p=n.getLabelWrapperProps,b=n.getControlProps;return Vt(a,u(),Vt(ge.T,null,Vt("input",g())),Vt("span",c(),Vt("span",b())),Vt("div",p(),r&&Vt("span",d(),r),s&&Vt("span",{className:o.description({class:null==i?void 0:i.description})},s)))}));zt.displayName="NextUI.Radio";const Ft=zt;var At,Gt,Ut,Wt=l.createElement,Ht=nt.ZP.div(At||(At=(0,tt.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Jt=(nt.ZP.div(Gt||(Gt=(0,tt.Z)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"]))),nt.ZP.span(Ut||(Ut=(0,tt.Z)(["\n  color: red;\n  padding: 10px 0;\n"]))));function qt(e){var t,n=e.id,a=e.setIntData,r=(e.intData,(0,at.Ge)(n)),o=r.options,i=r.customOption,s=r.error,u=(0,l.useState)(""),c=u[0],v=u[1];return Wt(Ht,null,(null===(t=o[0])||void 0===t||null===(t=t.label)||void 0===t?void 0:t.toLowerCase())==="VG_FileUpload".toLowerCase()?Wt("div",{className:" vg-w-full vg-h-36 "},Wt(oe,{callback:function(e){a((function(t){var a=t,r=e.url;return a[n]=r,a}))},variant:"plain",maxSizeMB:5,consumeLT:!0})):Wt(l.Fragment,null,Wt(_t,null,o.map((function(e){return Wt(Ft,{onChange:function(e){return a((function(t){var a=t;return a[n]=e.target.value,a}))},value:e.label,id:n},e.label)})),i&&Wt(l.Fragment,null,Wt(Ft,{onChange:function(e){return a((function(e){var t=e;return t[n]=c,t}))},value:"Other",id:n},Wt(Q.Z,null,"Other")),Wt(mt.Z,{classNames:{input:" vg-font-bold "},variant:"bordered",onValueChange:function(e){a((function(t){var a=t;return a[n]=e,a})),v(e)},value:c,size:"sm"}))),Wt(Jt,null,s&&"This field is required")))}var Kt=n(5434),Xt=l.createElement;function $t(e){var t=e.id,n=e.inputType,r=e.setIntData,i=(e.intData,(0,at.Tx)(t).register),s="email"===n?"email":"tel"===n?"phone number":"input",u=(0,l.useState)(!1),c=(u[0],u[1],l.useState(!1)),v=(0,o.Z)(c,2),g=(v[0],v[1]),d=l.useState(!1),f=(0,o.Z)(d,2),m=f[0],p=f[1],b=l.useState(!1),h=(0,o.Z)(b,2),y=h[0],w=h[1],x=l.useState(null),O=(0,o.Z)(x,2),P=O[0],N=O[1],j=l.useState(""),k=(0,o.Z)(j,2),D=k[0],S=k[1];function I(e){if(!e)return!0;if("email"===n){return!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}if("tel"===n){return!/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[ 0-9]{3}[-\s\.]?[ 0-9]{4,6}$/im.test(e)}return!1}return l.useEffect((function(){if(D){p(!0),clearTimeout(P);var e=setTimeout((0,G.Z)(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(I(D)),p(!1);case 2:case"end":return e.stop()}}),e)}))),2e3);return N(e),function(){p(!1),clearTimeout(e)}}}),[D]),l.useEffect((function(){r&&r((function(e){var n=e,a=D;return n[t]=a,n}))}),[D]),Xt("div",null,Xt(mt.Z,(0,a.Z)({onValueChange:function(e){S(e),g(!0)},errorMessage:y&&"text"!==n&&"Please input a valid ".concat(s,"."),color:"primary",className:" vg-py-0 ",variant:"bordered",type:n,endContent:Xt(l.Fragment,null,m&&"text"!==n&&Xt(K.Z,{size:"sm"}),!1===y&&D&&!m&&"text"!==n&&Xt($.KP3,{className:" vg-w-5 vg-h-5 "}),!0===y&&!m&&Xt(Kt.xg7,{className:" vg-w-5 vg-h-5 "}))},i())))}var Yt,Qt,en,tn,nn=l.createElement;function an(e){var t=e.id,n=e.inputType,r=(0,at.yO)(t).register;return nn("div",null,nn(mt.Z,(0,a.Z)({color:"primary",variant:"bordered",type:n},r())))}var rn,on,ln,sn,un=l.createElement,cn=nt.ZP.div(Yt||(Yt=(0,tt.Z)(["\n  display: table;\n"]))),vn=nt.ZP.header(Qt||(Qt=(0,tt.Z)(["\n  display: table-row;\n"]))),gn=nt.ZP.div(en||(en=(0,tt.Z)(["\n  display: table-row;\n"]))),dn=nt.ZP.div(tn||(tn=(0,tt.Z)(["\n  display: table-cell;\n  padding: 5px;\n"])));function fn(e){var t=e.id,n=e.setIntData,r=(e.intData,(0,at.bk)(t)),o=r.columns,l=r.renderGrid;return un(cn,null,un(vn,null,un(dn,null),o.map((function(e){return un(dn,{key:e.label},un("span",{className:" vg-text-small "},e.label))}))),l((function(e){return un(gn,{key:e.label},un(dn,{className:" vg-text-small vg-font-bold vg-leading-5 "},e.label),e.renderColumns((function(t){return un(dn,{key:t.label},un("input",(0,a.Z)({type:"radio"},t.registerColumn(),{onChange:function(a){var r=a.target.value;n((function(n){var a=n;return a[t.id]={label:e.label,value:r},a}))}})))})))})))}var mn=l.createElement,pn=nt.ZP.div(rn||(rn=(0,tt.Z)(["\n  display: table;\n"]))),bn=nt.ZP.header(on||(on=(0,tt.Z)(["\n  display: table-row;\n"]))),hn=nt.ZP.div(ln||(ln=(0,tt.Z)(["\n  display: table-row;\n"]))),yn=nt.ZP.div(sn||(sn=(0,tt.Z)(["\n  display: table-cell;\n  padding: 5px;\n"])));function wn(e){var t=e.id,n=(0,at.ck)(t),r=n.columns,o=n.renderGrid;return mn(pn,{className:" vg-w-full "},mn(bn,null,mn(yn,null),r.map((function(e){return mn(yn,{key:e.label},e.label)}))),o((function(e){return mn(hn,{key:e.label},mn(yn,null,e.label),e.renderColumns((function(e){return mn(yn,{key:e.label},mn("input",(0,a.Z)({type:"checkbox"},e.registerColumn())))})))})))}var xn=n(7602),On=n(8266),Pn=l.createElement;function Nn(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,at.M$)(t)),r=(a.register,a.options),o=(0,l.useState)(!0),i=o[0],s=o[1];return l.useEffect((function(){(0,_.eF)('[data-slot="popover"]').then((function(e){e.setAttribute("id","VG_OVERLAY_CONTAINER"),e.setAttribute("class","vg-render-container")}))}),[i]),Pn(xn.Z,{onOpenChange:function(){return s((function(e){return!e}))},variant:"bordered",onChange:function(e){var a=e.target.value;n((function(e){var n=e;return n[t]=a,n}))},id:"VG_OVERLAY_CONTAINER",key:t,label:"Select",placeholder:"Select",defaultSelectedKeys:[],className:" vg-max-w-xs "},r.map((function(e){return Pn(On.R,{key:e.label,value:e.label},e.label)})))}var jn=n(5678),kn=n(4910),Dn=n(9179),Sn=n(7611),In=["ref","as","state","index","name","trackRef","className","tooltipProps","isVertical","showTooltip","formatOptions","renderThumb"];function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=l.createElement;function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rn=(0,c.Gp)((function(e,t){var n=function(e){var t=e.ref,n=e.as,a=e.state,r=e.index,o=e.name,i=e.trackRef,s=e.className,u=e.tooltipProps,c=e.isVertical,g=e.showTooltip,d=e.formatOptions,m=e.renderThumb,p=(0,v.Z)(e,In),b=n||"div",h=(0,xe.gy)(t),y=(0,l.useRef)(null),w=(0,Sn.Ux)(d),x=(0,Dn.p)(Cn({index:r,trackRef:i,inputRef:y,name:o},p),a),O=x.thumbProps,P=x.inputProps,N=x.isDragging,j=x.isFocused,k=(0,be.XI)({isDisabled:a.isDisabled}),D=k.hoverProps,S=k.isHovered,I=(0,ye.Fx)(),Z=I.focusProps,C=I.isFocusVisible,E=(0,he.r)({isDisabled:a.isDisabled}),_=E.pressProps,M=E.isPressed;return{Component:b,index:r,showTooltip:g,renderThumb:m,getThumbProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Cn(Cn({ref:h,"data-slot":"thumb","data-hover":(0,f.PB)(S),"data-pressed":(0,f.PB)(M),"data-dragging":(0,f.PB)(N),"data-focused":(0,f.PB)(j),"data-focus-visible":(0,f.PB)(C)},(0,we.dG)(O,_,D,p)),{},{className:s},e)},getTooltipProps:function(){var e=w?w.format(a.values[null!=r?r:0]):a.values[null!=r?r:0];return Cn(Cn({},u),{},{placement:null!=u&&u.placement?null==u?void 0:u.placement:c?"right":"top",content:null!=u&&u.content?null==u?void 0:u.content:e,updatePositionDeps:[N,S,e],isOpen:void 0!==(null==u?void 0:u.isOpen)?null==u?void 0:u.isOpen:S||N})},getInputProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Cn(Cn({ref:y},(0,we.dG)(P,Z)),e)}}}(Mn(Mn({},e),{},{ref:t})),a=n.Component,r=n.index,o=n.renderThumb,i=n.showTooltip,s=n.getTooltipProps,u=n.getThumbProps,c=n.getInputProps,g=Mn(Mn({},u()),{},{index:r,children:En(ge.T,null,En("input",c()))}),d=(0,jn.Q)({Component:a,props:g,renderCustom:o});return i?En(kn.e,s(),d):d}));Rn.displayName="NextUI.SliderThumb";const Tn=Rn;var Vn=(0,g.tv)({slots:{base:" vg-flex vg-flex-col vg-w-full vg-gap-1 ",labelWrapper:" vg-w-full vg-flex vg-justify-between vg-items-center ",label:" ",value:" ",step:[" vg-h-1.5 "," vg-w-1.5 "," vg-absolute "," vg-rounded-full "," vg-bg-default-300/50 "," vg-data-[in-range=true]:bg-background/50 "],mark:[" vg-absolute "," vg-text-small "," vg-cursor-default "," vg-opacity-50 "," vg-data-[in-range=true]:opacity-100 "],trackWrapper:" vg-relative vg-flex vg-gap-2 ",track:[" vg-flex "," vg-w-full "," vg-relative "," vg-rounded-full "," vg-bg-default-300/50 "],filler:" vg-h-full vg-absolute ",thumb:[" vg-flex "," vg-justify-center "," vg-items-center "," vg-before:absolute "," vg-before:w-11 "," vg-before:h-11 "," vg-before:rounded-full "," vg-after:shadow-small "," vg-after:shadow-small "," vg-after:bg-background "," vg-data-[focused=true]:z-10 ",fe.Dh],startContent:[],endContent:[]},variants:{size:{sm:{label:" vg-text-small ",value:" vg-text-small ",thumb:" vg-w-5 vg-h-5 vg-after:w-4 vg-after:h-4 ",step:" vg-data-[in-range=false]:bg-default-200 "},md:{thumb:" vg-w-6 vg-h-6 vg-after:w-5 vg-after:h-5 ",label:" vg-text-small ",value:" vg-text-small "},lg:{thumb:" vg-h-7 vg-w-7 vg-after:w-5 vg-after:h-5 ",step:" vg-w-2 vg-h-2 ",label:" vg-text-medium ",value:" vg-text-medium ",mark:" vg-mt-2 "}},radius:{none:{thumb:" vg-rounded-none vg-after:rounded-none "},sm:{thumb:" vg-rounded-[calc(theme(borderRadius.small)/2)] vg-after:rounded-[calc(theme(borderRadius.small)/3)] "},md:{thumb:" vg-rounded-[calc(theme(borderRadius.medium)/2)] vg-after:rounded-[calc(theme(borderRadius.medium)/3)] "},lg:{thumb:" vg-rounded-[calc(theme(borderRadius.large)/1.5)] vg-after:rounded-[calc(theme(borderRadius.large)/2)] "},full:{thumb:" vg-rounded-full vg-after:rounded-full "}},color:{foreground:{filler:" vg-bg-foreground ",thumb:" vg-bg-foreground "},primary:{filler:" vg-bg-primary ",thumb:" vg-bg-primary "},secondary:{filler:" vg-bg-secondary ",thumb:" vg-bg-secondary "},success:{filler:" vg-bg-success ",thumb:" vg-bg-success "},warning:{filler:" vg-bg-warning ",thumb:" vg-bg-warning "},danger:{filler:" vg-bg-danger ",thumb:" vg-bg-danger "}},isVertical:{true:{base:" vg-w-auto vg-h-full vg-flex-col-reverse vg-items-center ",trackWrapper:" vg-flex-col vg-h-full vg-justify-center vg-items-center ",filler:" vg-w-full vg-h-auto ",thumb:" vg-left-1/2 ",track:" vg-h-full vg-border-y-transparent ",labelWrapper:" vg-flex-col vg-justify-center vg-items-center ",step:[" vg-left-1/2 "," vg--translate-x-1/2 "," vg-translate-y-1/2 "],mark:[" vg-left-1/2 "," vg-ml-1 "," vg-translate-x-1/2 "," vg--translate-y-1/2 "]},false:{thumb:" vg-top-1/2 ",trackWrapper:" vg-items-center ",track:" vg-border-x-transparent ",step:[" vg-top-1/2 "," vg--translate-x-1/2 "," vg--translate-y-1/2 "],mark:[" vg-top-1/2 "," vg-mt-1 "," vg--translate-x-1/2 "," vg-translate-y-1/2 "]}},isDisabled:{false:{thumb:[" vg-cursor-grab "," vg-data-[dragging=true]:cursor-grabbing "]},true:{base:" vg-opacity-disabled ",thumb:" vg-cursor-default "}},hasMarks:{true:{base:" vg-mb-5 "},false:{}},showOutline:{true:{thumb:" vg-ring-2 vg-ring-background "},false:{thumb:" vg-ring-transparent vg-border-0 "}},hideValue:{true:{value:" vg-sr-only "}},hideThumb:{true:{thumb:" vg-sr-only ",track:" vg-overflow-hidden vg-cursor-pointer "}},hasSingleThumb:{true:{},false:{}},disableAnimation:{true:{thumb:" vg-data-[dragging=true]:after:scale-100 "},false:{thumb:" vg-after:transition-all vg-motion-reduce:after:transition-none ",mark:" vg-transition-opacity vg-motion-reduce:transition-none "}},disableThumbScale:{true:{},false:{thumb:" vg-data-[dragging=true]:after:scale-80 "}}},compoundVariants:[{size:["sm","md"],showOutline:!1,class:{thumb:" vg-shadow-small "}},{size:"sm",color:" vg-foreground ",class:{step:" vg-data-[in-range=true]:bg-foreground "}},{size:"sm",color:"primary",class:{step:" vg-data-[in-range=true]:bg-primary "}},{size:"sm",color:"secondary",class:{step:" vg-data-[in-range=true]:bg-secondary "}},{size:"sm",color:"success",class:{step:" vg-data-[in-range=true]:bg-success "}},{size:"sm",color:"warning",class:{step:" vg-data-[in-range=true]:bg-warning "}},{size:"sm",color:"danger",class:{step:" vg-data-[in-range=true]:bg-danger "}},{size:"sm",isVertical:!1,class:{track:" vg-h-1 vg-my-[calc((theme(spacing.5)-theme(spacing.1))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.5)/2)] "}},{size:"md",isVertical:!1,class:{track:" vg-h-3 vg-my-[calc((theme(spacing.6)-theme(spacing.3))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.6)/2)] "}},{size:"lg",isVertical:!1,class:{track:" vg-h-7 vg-my-[calc((theme(spacing.7)-theme(spacing.5))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.7)/2)] "}},{size:"sm",isVertical:!0,class:{track:" vg-w-1 vg-mx-[calc((theme(spacing.5)-theme(spacing.1))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.5)/2)] "}},{size:"md",isVertical:!0,class:{track:" vg-w-3 vg-mx-[calc((theme(spacing.6)-theme(spacing.3))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.6)/2)] "}},{size:"lg",isVertical:!0,class:{track:" vg-w-7 vg-mx-[calc((theme(spacing.7)-theme(spacing.5))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.7)/2)] "}},{color:" vg-foreground ",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-foreground "}},{color:"primary",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-primary "}},{color:"secondary",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-secondary "}},{color:"success",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-success "}},{color:"warning",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-warning "}},{color:"danger",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-danger "}},{color:" vg-foreground ",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-foreground "}},{color:"primary",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-primary "}},{color:"secondary",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-secondary "}},{color:"success",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-success "}},{color:"warning",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-warning "}},{color:"danger",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-danger "}}],defaultVariants:{size:"md",color:"primary",radius:"full",hideValue:!1,hideThumb:!1,isDisabled:!1,disableThumbScale:!1,disableAnimation:!1,showOutline:!1}}),Bn=n(4333),Ln=n(264),zn=["ref","as","name","label","formatOptions","value","maxValue","minValue","step","showSteps","showTooltip","orientation","marks","startContent","endContent","fillOffset","className","classNames","renderThumb","renderLabel","renderValue","onChange","onChangeEnd","getValue","tooltipValueFormatOptions","tooltipProps"];function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=l.createElement;function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hn=(0,c.Gp)((function(e,t){var n=function(e){var t,n,a=(0,c.oe)(e,Vn.variantKeys),i=(0,o.Z)(a,2),u=i[0],g=i[1],d=u.ref,f=u.as,p=u.name,b=u.label,h=u.formatOptions,y=u.value,w=u.maxValue,x=void 0===w?100:w,O=u.minValue,P=void 0===O?0:O,N=u.step,j=void 0===N?1:N,k=u.showSteps,D=void 0!==k&&k,S=u.showTooltip,I=void 0!==S&&S,Z=u.orientation,C=void 0===Z?"horizontal":Z,E=u.marks,_=void 0===E?[]:E,M=u.startContent,R=u.endContent,T=u.fillOffset,V=u.className,B=u.classNames,L=u.renderThumb,z=u.renderLabel,F=u.renderValue,A=u.onChange,G=u.onChangeEnd,U=u.getValue,W=u.tooltipValueFormatOptions,H=void 0===W?h:W,J=u.tooltipProps,q=void 0===J?{}:J,K=(0,v.Z)(u,zn),X=f||"div",$="string"==typeof X,Y=(0,xe.gy)(d),Q=(0,l.useRef)(null),ee=(0,Sn.Ux)(h),te=(0,Sn.bU)().direction,ne=(0,l.useCallback)((function(e){return Math.min(Math.max(e,P),x)}),[P,x]),ae=(0,l.useMemo)((function(){if(void 0!==y)return Array.isArray(y)?y.map(ne):ne(y)}),[y,ne]),re=(0,Ln.x)(An(An({},K),{},{value:ae,isDisabled:null!==(t=null==e?void 0:e.isDisabled)&&void 0!==t&&t,orientation:C,step:j,minValue:P,maxValue:x,numberFormatter:ee,onChange:A,onChangeEnd:G})),oe=An({offset:5,delay:0,size:"sm",showArrow:!0,color:null!=e&&e.color?null==e?void 0:e.color:null===(n=Vn.defaultVariants)||void 0===n?void 0:n.color,isDisabled:e.isDisabled},q),le=(0,Dn.o)(e,re,Q),ie=le.groupProps,se=le.trackProps,ue=le.labelProps,ce=le.outputProps,ve=(0,be.XI)({isDisabled:e.isDisabled}),ge=ve.isHovered,de=ve.hoverProps,fe=(0,m.W)(null==B?void 0:B.base,V),me="vertical"===C,pe=(null==_?void 0:_.length)>0,he=void 0===T&&1===re.values.length,ye=(0,l.useMemo)((function(){return Vn(An(An({},g),{},{hasMarks:pe,hasSingleThumb:he,isVertical:me,className:V}))}),[].concat((0,s.Z)(Object.values(g)),[me,he,pe,V])),Oe=[re.values.length>1?re.getThumbPercent(0):void 0!==T?re.getValuePercent(T):0,re.getThumbPercent(re.values.length-1)].sort(),Pe=(0,o.Z)(Oe,2),Ne=Pe[0],je=Pe[1],ke=1===re.values.length?ee.format(re.values[0]):ee.formatRange(re.values[0],re.values[re.values.length-1]),De=D?Math.floor((x-P)/j)+1:0;return{Component:X,state:re,value:ke,domRef:Y,label:b,steps:De,marks:_,startContent:M,endContent:R,getStepProps:function(e){var t=re.getValuePercent(e*j+P);return{className:ye.step({class:null==B?void 0:B.step}),"data-slot":"step","data-in-range":t<=je&&t>=Ne,style:(0,r.Z)({},me?"bottom":"rtl"===te?"right":"left","".concat(100*t,"%"))}},getBaseProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An({ref:Y,"data-orientation":re.orientation,"data-slot":"base","data-hover":ge,className:ye.base({class:fe})},(0,we.dG)(ie,de,(0,Bn.z)(K,{enabled:$}),(0,Bn.z)(e)))},getValue:U,renderLabel:z,renderValue:F,getTrackWrapperProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An({"data-slot":"track-wrapper",className:ye.trackWrapper({class:null==B?void 0:B.trackWrapper})},e)},getLabelWrapperProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An({className:ye.labelWrapper({class:null==B?void 0:B.labelWrapper}),"data-slot":"labelWrapper"},e)},getLabelProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An(An({"data-slot":"label",className:ye.label({class:null==B?void 0:B.label}),children:b},ue),e)},getValueProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An(An({"data-slot":"value",className:ye.value({class:null==B?void 0:B.value}),children:U&&"function"==typeof U?U(re.values):ke},ce),e)},getTrackProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An(An({ref:Q,"data-slot":"track","data-thumb-hidden":!(null==e||!e.hideThumb),"data-vertical":me,className:ye.track({class:null==B?void 0:B.track})},se),t)},getFillerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An(An({"data-slot":"filler",className:ye.filler({class:null==B?void 0:B.filler})},e),{},{style:An(An({},e.style),{},(0,r.Z)({},me?"bottom":"rtl"===te?"right":"left","".concat(100*Ne,"%")),me?{height:"".concat(100*(je-Ne),"%")}:{width:"".concat(100*(je-Ne),"%")})})},getThumbProps:function(e){return{name:p,index:e,state:re,trackRef:Q,orientation:C,isVertical:me,tooltipProps:oe,showTooltip:I,renderThumb:L,formatOptions:H,className:ye.thumb({class:null==B?void 0:B.thumb})}},getMarkProps:function(e){var t=re.getValuePercent(e.value);return{className:ye.mark({class:null==B?void 0:B.mark}),"data-slot":"mark","data-in-range":t<=je&&t>=Ne,style:(0,r.Z)({},me?"bottom":"rtl"===te?"right":"left","".concat(100*t,"%"))}},getStartContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An({"data-slot":"startContent",className:ye.startContent({class:null==B?void 0:B.startContent})},e)},getEndContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An({"data-slot":"endContent",className:ye.endContent({class:null==B?void 0:B.endContent})},e)}}}(Wn(Wn({},e),{},{ref:t})),i=n.Component,u=n.state,g=n.label,d=n.steps,f=n.marks,p=n.startContent,b=n.endContent,h=n.getStepProps,y=n.getBaseProps,w=n.renderValue,x=n.renderLabel,O=n.getTrackWrapperProps,P=n.getLabelWrapperProps,N=n.getLabelProps,j=n.getValueProps,k=n.getTrackProps,D=n.getFillerProps,S=n.getThumbProps,I=n.getMarkProps,Z=n.getStartContentProps,C=n.getEndContentProps;return Gn(i,y(),g&&Gn("div",P(),(0,jn.Q)({Component:"label",props:N(),renderCustom:x}),(0,jn.Q)({Component:"output",props:j(),renderCustom:w})),Gn("div",O(),p&&Gn("div",Z(),p),Gn("div",k(),Gn("div",D()),Number.isFinite(d)&&Array.from({length:d},(function(e,t){return Gn("div",(0,a.Z)({key:t},h(t)))})),u.values.map((function(e,t){return Gn(Tn,(0,a.Z)({key:t},S(t)))})),(null==f?void 0:f.length)>0&&f.map((function(e,t){return Gn("div",(0,a.Z)({key:t},I(e)),e.label)}))),b&&Gn("div",C(),b)))}));Hn.displayName="NextUI.Slider";const Jn=Hn;var qn,Kn,Xn=l.createElement,$n=nt.ZP.div(qn||(qn=(0,tt.Z)(["\n"]))),Yn=nt.ZP.span(Kn||(Kn=(0,tt.Z)(["\n  color: red;\n"])));function Qn(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,at.mP)(t)),r=a.options,o=a.legend,i=a.error;return Xn(l.Fragment,null,Xn($n,null,Xn(Jn,{onChangeEnd:function(e){n((function(n){var a=n;return a[t]=e,a}))},size:"md",step:1,color:"primary",label:"Value",showSteps:!0,maxValue:r.length,minValue:1,defaultValue:Math.round(r.length/2),className:" vg-max-w-md vg-mb-1 "}),Xn("div",{className:" vg-w-full vg-flex vg-items-center vg-gap-4 vg-justify-between vg-text-tiny vg-font-bold "},Xn("p",null,o.labelFirst),Xn("p",null,o.labelLast))),Xn(Yn,null,i&&"This field is required"))}var ea=l.createElement;const ta=function(e){var t=e.id,n=e.setIntData;e.intData;return ea(mt.Z,{variant:"bordered",onChange:function(e){var a=e.target.value;n((function(e){var n=e;return n[t]=a,n}))},className:" vg-w-full ",type:"date"})};var na,aa,ra,oa,la=l.createElement;function ia(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var va=nt.ZP.form(na||(na=(0,tt.Z)(["\n  margin: 0;\n"]))),ga=nt.ZP.div(aa||(aa=(0,tt.Z)(["\n  margin-bottom: 0;\n"]))),da=nt.ZP.h3(ra||(ra=(0,tt.Z)(["\n  margin-bottom: 5px;\n"]))),fa=nt.ZP.p(oa||(oa=(0,tt.Z)(["\n  font-size: 0.8rem;\n  color: #5c5c5c;\n  margin-top: 0px;\n"]))),ma=function(e){var t=e.form;return l.useEffect((function(){var n=t.fields.map((function(e,t){return{label:e.label,id:e.id,index:t}}));e.setFormData(n)}),[]),la("div",{className:" vg-flex vg-flex-col vg-gap-4 "},t.fields.map((function(t){var n,a,r,o,l,i=t.id,s=null,u=null!=t&&null!==(n=t.label)&&void 0!==n&&n.includes(":")?null==t||null===(a=t.label)||void 0===a?void 0:a.split(":")[1]:"text";switch(t.type){case"CHECKBOX":s=la(bt,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"RADIO":s=la(qt,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"SHORT_ANSWER":s=la($t,{setIntData:e.setIntData,intData:e.intData,inputType:u,id:i});break;case"LONG_ANSWER":s=la(an,{inputType:u,id:i});break;case"RADIO_GRID":s=la(fn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"CHECKBOX_GRID":s=la(wn,{id:i});break;case"DROPDOWN":s=la(Nn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"LINEAR":s=la(Qn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"DATE":s=la(ta,{setIntData:e.setIntData,intData:e.intData,id:i})}if(null!=t&&null!==(r=t.label)&&void 0!==r&&r.includes("VG_FileUpload")&&(s=la("div",{className:" vg-w-full vg-h-36 "},la(oe,{callback:function(t){e.setIntData((function(e){var n=e,a=t.url;return n[i]=a,n}))},variant:"plain",maxSizeMB:10,consumeLT:!0}))),!s)return null;var c=(null!=t&&null!==(o=t.label)&&void 0!==o&&o.includes(":")?null==t||null===(l=t.label)||void 0===l||null===(l=l.split(":")[0])||void 0===l?void 0:l.replaceAll("_"," "):t.label||"").replaceAll("VG_FileUpload","");return la(ga,{key:i},la(da,{className:"vg-message-form--q-label"},la("p",{className:" vg-text-sm vg-opacity-80 "},c," ",t.required?la("span",{className:" vg-text-danger-500 vg-font-bold vg-message-form--q-required"},"*"):"")),s,la(fa,{className:"vg-message-form--q-helper"},t.description))})))};const pa=function(e){var t,n,a=e.form,r=(0,at.h1)({form:a}),s=l.useState({}),c=(0,o.Z)(s,2),v=c[0],g=c[1],d=l.useState({}),f=(0,o.Z)(d,2),m=f[0],p=f[1],b=(0,i.useRuntime)(),h=b.runtime,y=b.handlePushMessage,w=b.pushChatNotice,x=b.setRuntime,O=b.formattedTurnsValue,P=(0,l.useState)(!1),N=P[0],j=P[1],D=(0,l.useState)(!1),S=D[0],I=D[1],Z=(0,l.useRef)(null);l.useEffect((function(){var e,t,n=O[(null==O?void 0:O.length)-1];n&&((null==n||null===(e=n.messages)||void 0===e?void 0:e.length)>0&&(a.fields.find((function(e){return e.required}))&&null!=n&&null!==(t=n.messages)&&void 0!==t&&t.find((function(e){return"GoogleForm"===e.type}))?(x((function(e){return ca(ca({},e),{},{blockInput:!0})})),j(!0)):(x((function(e){return ca(ca({},e),{},{blockInput:!1})})),j(!1))));return function(){x((function(e){return ca(ca({},e),{},{blockInput:!1})}))}}),[]);var C=function(){var e=(0,G.Z)(W().mark((function e(t){var n,o,l,i,s,u,c,g,d,f,p,b;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),n=ca(ca({},t),v),o=a.fields.filter((function(e){var t;return!(null==e||null===(t=e.label)||void 0===t||!t.includes(":"))})),l=ia(o),e.prev=4,s=W().mark((function e(){var t,a,r,o,l;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[ 0-9]{3}[-\s\.]?[ 0-9]{4,6}$/im.test(e)},t=i.value,"email"!==(a="email"===t.label.split(":")[1]?"email":"tel"===t.label.split(":")[1]?"tel":"text")){e.next=10;break}if(r=n[t.id],/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){e.next=10;break}return I(!1),e.abrupt("return",{v:w("Please input a valid email.","fail",2500)});case 10:if("tel"!==a){e.next=16;break}if(l=n[t.id],o(l)){e.next=16;break}return I(!1),e.abrupt("return",{v:w("Please input a valid phone number.","fail",2500)});case 16:case"end":return e.stop()}}),e)})),l.s();case 7:if((i=l.n()).done){e.next=14;break}return e.delegateYield(s(),"t0",9);case 9:if(!(u=e.t0)){e.next=12;break}return e.abrupt("return",u.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),l.e(e.t1);case 19:return e.prev=19,l.f(),e.finish(19);case 22:for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&n[c]instanceof Array&&!n[c].length&&delete n[c];return e.next=25,r.submitToGoogleForms(n);case 25:if(g=Object.keys(n),d=g.map((function(e,t){var a,r;return{index:null===(a=m.find((function(t){return t.id===e})))||void 0===a?void 0:a.index,label:null===(r=m.find((function(t){return t.id===e})))||void 0===r?void 0:r.label,value:n[e],gform_id:e}})).sort((function(e,t){return e.index-t.index})),f=!0,a.fields.forEach((function(e){if(null!=e&&e.required){var t=d.find((function(t){return(null==t?void 0:t.gform_id)===(null==e?void 0:e.id)})),n=null!=e&&e.lines?null==e?void 0:e.lines:null;if(n){if((null==d?void 0:d.length)<n)return I(!1),f=!1,w("Please push required fields","fail",2500)}else if(!t)return I(!1),f=!1,w("Please push required fields","fail",2500)}})),f){e.next=32;break}return e.abrupt("return");case 32:return p=JSON.stringify({type:"VGVF_Channel",payload:d}),e.next=35,(0,_.cG)({translateTo:h.lang,text:"Successfully Submitted"});case 35:return b=e.sent,e.next=38,y(p,null,null,{from:"human",messages:[{from:"human",type:"info:success",item:b,delay:0}],ts:k()().unix()});case 38:x((function(e){return ca(ca({},e),{},{blockInput:!1})})),I(!1);case 40:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),E=O.length-1;return la(at.F6,r,la(va,{ref:Z,className:" vg-p-5 vg-message-form--inner",onSubmit:r.handleSubmit(C)},a.title&&la("div",{className:" vg-mb-3 vg-message-form--section1"},la("h1",{className:" vg-font-bold vg-text-large vg-message-form--title"},a.title),a.description&&la(M.Z,{className:" vg-text-sm vg-message-form--desc"},a.description)),la(ma,{setFormData:p,setIntData:g,intData:v,form:a}),la(u.Z,{isDisabled:S||E>(null==e?void 0:e.turnIndex)||h.manualControl,className:" vg-w-full vg-my-3 vg-message-form--submit",color:"primary",type:"submit"},la(Q.Z,{to:null===(t=h.variables)||void 0===t?void 0:t.lang,text:"Submit"})),!N&&la(u.Z,{isDisabled:S||E>(null==e?void 0:e.turnIndex)||h.manualControl,variant:"flat",onPress:function(){y("VG_Cancel")},className:" vg-w-full vg-message-form--cancel",color:"danger"},la(Q.Z,{to:null===(n=h.variables)||void 0===n?void 0:n.lang,text:"Cancel"}))))};var ba=l.createElement;const ha=function(e){var t=l.useState(!1),n=(0,o.Z)(t,2),a=n[0],r=n[1];function i(){return(i=(0,G.Z)(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Z.get("".concat("https://voiceglow.org","/api/get-gform?form_id=").concat(t));case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.useEffect((function(){!function(e){i.apply(this,arguments)}((e.hardLink||e.item.payload).includes("https://")?e.hardLink||e.item.payload:"https://"+(e.hardLink||e.item.payload))}),[]),a?ba("div",{className:" vg-w-full vg-h-auto vg-relative vg-message-form"},ba(pa,{messageIndex:e.messageIndex,turnIndex:e.turnIndex,form:a})):ba(C.Z,{className:" vg-w-full vg-h-72 vg-rounded-large "})};var ya=n(7619),wa=n(231),xa=n(2085),Oa=n.n(xa),Pa=l.createElement;const Na=function(e){var t=(0,l.useRef)(null),n=(0,l.useRef)(null),a=(0,l.useState)(!0),r=a[0],o=a[1],i=(0,l.useState)(0),s=i[0],c=i[1],v=(0,l.useState)(0),g=v[0],d=v[1],f=(0,l.useState)(!1),m=f[0],p=f[1],b=(0,l.useState)(!1),h=b[0],y=b[1],w=(0,l.useState)(!0),x=w[0],O=w[1],P=(0,l.useState)(1),N=P[0],j=P[1],k=[1,1.25,1.5,2],S=(0,l.useState)(null),I=(S[0],S[1]);(0,l.useRef)(null);(0,l.useEffect)((function(){e.withWaves&&fetch(e.audioLink).then((function(e){return e.blob()})).then((function(e){I(e)}));var a=t.current,r=n.current,o=r.getContext("2d");try{!function(){var e;window.AudioContext=window.AudioContext||(null===(e=window)||void 0===e?void 0:e.webkitAudioContext);var t=new window.AudioContext,n=t.createAnalyser();t.createMediaElementSource(a).connect(n),n.connect(t.destination),n.fftSize=256;var l=n.frequencyBinCount,i=new Uint8Array(l),s=function e(){n.getByteFrequencyData(i);for(var t=0;t<l;t++)i[t]=.8*i[t];o.clearRect(0,0,r.width,r.height);for(var a=100/5.4,s=r.height+1,u=0;u<5;u++){var c=18.61851851851852*u*(r.width/100),v=i[u]/255*s;o.beginPath(),r.width,r.height;var g=getComputedStyle(document.getElementById("vg-theme-container")).getPropertyValue("--nextui-primary").split(" ").map((function(e){return Number(e.replaceAll("%",""))})),d="#".concat(Oa().hsl.hex(g));o.fillStyle=d,o.fillRect(c,r.height-v-(0===u||2===u||4===u?2:1),a*(r.width/100)-2,v-(0===u||2===u||4===u?2:1))}requestAnimationFrame(e)};s(),a.addEventListener("play",s),a.addEventListener("pause",(function(){return cancelAnimationFrame(s)}))}()}catch(e){}}),[]),(0,l.useEffect)((function(){var e=t.current,n=function(){c(e.currentTime),d(e.duration)};return e.addEventListener("timeupdate",n),function(){e.removeEventListener("timeupdate",n)}}),[]);var Z=function(e,n){try{var a=document.getElementById("vg-control-bar"),r=null==a?void 0:a.getBoundingClientRect(),o=(e.clientX-r.left)/Math.abs(r.left-r.right)*g;c(o),t.current.currentTime=o}catch(e){}},E=function(e){e.preventDefault(),y(!1),p(!1)},_=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))};(0,l.useEffect)((function(){return document.addEventListener("mousemove",Z),h||document.removeEventListener("mousemove",Z),function(){document.removeEventListener("mousemove",Z)}}),[h]);return Pa("div",{className:" vg-w-full vg-mx-auto vg-relative "},x&&Pa("div",{className:" vg-absolute vg-z-[20] vg-bg-background vg-w-full vg-h-full "},Pa(C.Z,{className:" vg-w-full vg-h-full vg-rounded-large "})),Pa(ya.E.div,{className:" vg-flex vg-flex-col vg-items-center vg-p-4 vg-rounded-md vg-relative "},Pa("audio",{onLoadedData:function(){O(!1)},crossOrigin:"anonymous",id:"vg-audio-tag",ref:t,src:e.audioLink}),Pa("div",{className:" vg-flex vg-items-center vg-justify-between vg-gap-2 vg-w-full "},Pa(u.Z,{variant:"solid",color:"primary",isIconOnly:!0,className:" vg-p-2 vg-flex vg-items-center vg-justify-center vg-rounded-full vg-focus:outline-none vg-relative ",onClick:function(){r&&s!==g?(t.current.pause(),o(!1)):(t.current.play(),o(!0))}},Pa(D.M,null,s!==g&&r&&Pa(ya.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"play-icon"},Pa(wa.Wh,{className:" vg-w-5 vg-h-5 "})),s!==g&&!r&&Pa(ya.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"pause-icon"},Pa(wa.gmG,{className:" vg-w-5 vg-h-5 "})),s==g&&Pa(ya.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"replay-icon"},Pa(Kt.jZM,{className:" vg-w-5 vg-h-5 "})))),Pa("div",{className:" vg-flex vg-flex-col vg-w-full "},Pa(ya.E.div,{id:"vg-control-bar",animate:{height:m?15:7},onClick:function(e){return Z(e)},onMouseEnter:function(){return p(!0)},onMouseLeave:E,onMouseDown:function(e){e.preventDefault(),y(!0)},onMouseUp:E,transition:{type:"spring",stiffness:500,damping:50,mass:.5,delay:0},className:" vg-w-full vg-bg-background vg-rounded-full vg-overflow-hidden vg-cursor-pointer "},Pa(ya.E.div,{className:" vg-bg-gradient-to-r vg-from-primary-500 vg-to-primary-700 vg-rounded-full ",style:{width:"".concat(s/g*100,"%")},initial:{width:0},animate:{width:"".concat(s/g*100,"%"),height:m?15:7},transition:{type:"spring",stiffness:500,damping:50,mass:.5,delay:0}})),Pa("div",{className:" vg-flex vg-items-center vg-justify-between vg-gap-1 vg-mt-2 "},Pa("div",{className:" vg-flex vg-items-center "},Pa("canvas",{ref:n,width:"20",height:"15"}),Pa(u.Z,{size:"sm",variant:"light",isIconOnly:!0,className:" vg-w-auto vg-p-1 vg-h-auto vg-text-sm vg-font-bold vg-underline vg-text-foreground vg-opacity-80 vg-leading-3 ",onClick:function(){return function(){var e=k.findIndex((function(e){return e===N}));if(k[e+1]){var n=k[e+1];j(n),t.current.playbackRate=n}else j(1),t.current.playbackRate=1}()}},N,"x")),Pa("span",{className:" vg-text-sm vg-text-foreground vg-opacity-80 vg-leading-3 "},_(s)," / ",_(g)))))))};var ja=n(5553),ka=l.createElement;function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ia=function(e){var t,n,a=(0,i.useRuntime)(),r=a.runtime,o=a.setRuntime;a.pushChatNotice,a.formattedTurnsValue;return ka(z.Z,{key:"chat_end_start_new",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-[100px] vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur "},ka("div",{className:" vg-p-unit-5 "},ka("div",{className:" vg-flex vg-flex-col vg-gap-unit-2 "},ka(u.Z,{onPress:function(){document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:k()().unix()},ts:k()().unix()}})),o((function(e){return Sa(Sa({},e),{},{reload:!0,notice:Sa(Sa({},e.notice),{},{custom:null,active:!1})})}))},variant:"shadow",color:"primary"},ka(Q.Z,{text:"Start New Conversation",to:null===(t=r.variables)||void 0===t?void 0:t.lang})),ka("p",{className:" vg-text-small vg-text-center vg-w-full vg-mt-unit-1 vg-opacity-75 vg-footer-branding"},Do(!e.hasEverPaid&&ja.SHOULD_LTS_WORK?" Assistant by Voiceflow:voiceflow.com + Voiceglow:voiceglow.org":(null===(n=r.variables)||void 0===n?void 0:n.branding)||"")))))};var Za=l.createElement;function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _a=function(e){var t,a=(0,i.useRuntime)(),r=a.runtime,o=a.setRuntime,s=(a.pushChatNotice,a.formattedTurnsValue),u=a.lightConvoData,c=(0,l.useState)((null==u?void 0:u.ratingFrom5)||0),v=(c[0],c[1]);function g(){return(g=(0,G.Z)(W().mark((function e(){var t,a,o,l,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,8650));case 2:return t=e.sent,a=t.getFirestore,o=t.setDoc,l=t.doc,i=a(X.l2,r.bucket),e.next=9,o(l(i,"voiceglow/".concat(r.variables.ID,"/convos/").concat(r.userID)),{state:"ended_chat"},{merge:!0});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return d=(0,G.Z)(W().mark((function e(){var t,a,o,l,i,s,u,c;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,8650));case 2:return a=e.sent,o=a.getFirestore,l=a.getDoc,i=a.doc,s=o(X.l2,r.bucket),e.next=9,l(i(s,"voiceglow/".concat(r.variables.ID,"/convos/").concat(r.userID)));case 9:u=e.sent,c=null===(t=u.data())||void 0===t?void 0:t.ratingFrom5,v(c||0);case 12:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return l.useEffect((function(){var t,n=s[(null==s?void 0:s.length)-1];null!=n&&null!==(t=n.messages)&&void 0!==t&&t.find((function(e){return"end"===e.type}))&&(o((function(t){return Ea(Ea({},t),{},{notice:Ea(Ea({},t.notice),{},{active:!1,custom:Za(Ia,{hasEverPaid:e.hasEverPaid})})})})),function(){g.apply(this,arguments)}())}),[s]),l.useEffect((function(){var t;null!=e&&e.isChatHistory&&null!=r&&null!==(t=r.variables)&&void 0!==t&&t.ID&&null!=r&&r.userID&&function(){d.apply(this,arguments)}()}),[null==e?void 0:e.isChatHistory,null==r?void 0:r.userID]),Za("div",{key:"chatend_for_".concat(e.turnIndex,"_message_").concat(e.messageIndex),className:" vg-bg-content2 vg-w-full vg-h-auto vg-flex vg-flex-col vg-text-base vg-p-4 vg-rounded-large vg-chat-end"},Za("p",null,Za(Q.Z,{to:null===(t=r.variables)||void 0===t?void 0:t.lang,text:"Chat has Ended."})))};var Ma=n(3990),Ra=n(9583),Ta=l.createElement;const Va=function(e){var t,n;(0,i.useRuntime)().runtime;return Ta("div",{className:" vg- vg-flex vg-items-center vg-gap-2 vg-py-2 vg-bg-content2 vg-rounded-lg vg-px-4 vg-text-small ".concat("info:primary"===e.message.type?" vg-bg-gradient-to-b vg-from-primary-400 vg-to-primary-500 vg-text-white ":" "," ").concat("info:default"===e.message.type?" vg-bg-content2 vg-text-foreground ":" "," ").concat("info:danger"===e.message.type?" vg-bg-danger-800 vg-text-danger-100 ":" "," ").concat("info:success"===e.message.type?" vg-bg-success-800 vg-text-success-100 ":" "," vg-vgc-info "),key:"chat-message-info-".concat(e.turnIndex,"-").concat(e.messageIndex)},Ta("div",{className:" vg-flex-shrink-0 vg-w-4 vg-h-4 vg-vgc-info--icon "},"info:default"===e.message.type||"info:primary"===e.message.type?Ta(Ma.JjM,{className:" vg-w-full vg-h-full "}):null,"info:success"===e.message.type?Ta(Ra.l_A,{className:" vg-w-full vg-h-full "}):null,"info:danger"===e.message.type?Ta(Ma.sQZ,{className:" vg-w-full vg-h-full "}):null),Ta("div",{className:" vg-vgc-info--text "},Ta(M.Z,null,(null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t?void 0:t.payload)||(null===(n=e.message)||void 0===n?void 0:n.item))))};var Ba=l.createElement;const La=function(e){var t,n=(0,i.useRuntime)().runtime,a=l.useState(!1),r=(0,o.Z)(a,2),s=r[0],u=r[1],c=String((null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.image)||(null==e?void 0:e.message)||"");return l.useEffect((function(){s&&ko("vg-chat-scroll-container").then((function(e){var t,a;e.scrollTo({top:null===(t=document.getElementById("vg-chat-scroll-container"))||void 0===t?void 0:t.scrollHeight,behavior:null!==(a=n.variables)&&void 0!==a&&a.disableSmoothScroll?"auto":"smooth"})}))}),[s]),Ba("div",{key:"chat_message_image_".concat(e.turnIndex,"_").concat(e.messageIndex),className:" ".concat("human"===e.message.from?" vg-w-[75%] ":" vg-w-full "," vg-h-full vg-rounded-large vg-overflow-none vg-relative vg-chat-message--image")},!s&&Ba(C.Z,{className:" vg-w-full vg-h-full vg-rounded-large vg-absolute vg-z-[10] vg-top-0 vg-left-0 "}),c?Ba(E.Z,{disableSkeleton:!0,onLoad:function(){return u(!0)},classNames:{wrapper:" vg-rounded-medium vg-overflow-none "},className:" vg-w-auto vg-h-auto vg-object-cover vg-rounded-medium vg-message-image ",src:null!=c&&c.includes("https://")?c:"https://".concat(c)}):null)};var za=n(2931),Fa=n(9352),Aa=l.createElement;const Ga=function(e){return Aa(u.Z,{size:"sm",color:"primary",variant:"light",onPress:function(){return window.open(e.url,"_blank")},className:" vg-flex vg-gap-2 vg-items-center vg-w-auto vg-min-w-0 vg-max-w-auto vg-bg-primary-50 "},Aa(Fa.G1z,{className:" vg-w-4 vg-h-4 vg-flex-shrink-0 "}),Aa("p",{className:" vg-text-tiny vg-underline "},e.filename,"  ",e.sizeKB," KB"))};var Ua=l.createElement;const Wa=function(e){var t,n,a,r,o,l,s,u=(0,i.useRuntime)().runtime;return Ua("div",{className:" vg-w-full "},Ua(mt.Z,{className:" vg-mb-2 vg-disabled:opacity-100 vg-!opacity-100 ",label:Ua(Q.Z,{to:null===(t=u.variables)||void 0===t?void 0:t.lang,text:"Email"}),value:null===(n=e.message)||void 0===n||null===(n=n.item)||void 0===n?void 0:n.email,isDisabled:!0}),Ua(za.Z,{className:" vg-mb-2 vg-disabled:opacity-100 vg-!opacity-100 ",label:Ua(Q.Z,{to:null===(a=u.variables)||void 0===a?void 0:a.lang,text:"Message"}),value:null===(r=e.message)||void 0===r||null===(r=r.item)||void 0===r?void 0:r.message,isDisabled:!0}),Ua("div",{className:" vg-pl-0 vg-pb-2 vg-p-2 vg-rounded-large vg-flex vg-items-center vg-gap-2 vg-overflow-y-hidden vg-w-full vg-h-auto vg-pt-0 vg-flex vg-container-snap-chat "},Ua("div",{className:" vg-flex vg-gap-2 "},null===(o=e.message)||void 0===o||null===(o=o.item)||void 0===o||null===(o=o.attachmentLinks)||void 0===o?void 0:o.map((function(e,t){return Ua(Ga,e)})),null===(l=e.message)||void 0===l||null===(l=l.item)||void 0===l||null===(l=l.attachmentLinks)||void 0===l?void 0:l.map((function(e,t){return Ua(Ga,e)})),null===(s=e.message)||void 0===s||null===(s=s.item)||void 0===s||null===(s=s.attachmentLinks)||void 0===s?void 0:s.map((function(e,t){return Ua(Ga,e)})))))};var Ha=l.createElement;const Ja=function(e){var t="chat-extension-container-".concat(e.messageIndex,"-").concat(e.turnIndex);return l.useEffect((function(){if(e.extension.render){var n=document.getElementById(t);e.extension.render({trace:e.item.item,element:n})}}),[]),Ha("div",{key:"chat-extension-".concat(e.messageIndex,"-").concat(e.turnIndex),id:t})};var qa=n(8328),Ka=(0,je.k)({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"}),Xa=(0,o.Z)(Ka,2),$a=Xa[0],Ya=Xa[1],Qa=n(4482),er=n(8113),tr=(0,g.tv)({base:[" vg-w-full "," vg-p-1 "," vg-min-w-[200px] "]}),nr=((0,g.tv)({slots:{base:[" vg-flex "," vg-group "," vg-gap-2 "," vg-items-center "," vg-justify-between "," vg-relative "," vg-px-2 "," vg-py-1.5 "," vg-w-full "," vg-h-full "," vg-box-border "," vg-rounded-small "," vg-outline-none "," vg-cursor-pointer "," vg-tap-highlight-transparent "," vg-data-[pressed=true]:opacity-70 "].concat((0,s.Z)(fe.Dh),[" vg-data-[focus-visible=true]:dark:ring-offset-background-content1 "]),wrapper:" vg-w-full vg-flex vg-flex-col vg-items-start vg-justify-center ",title:" vg-flex-1 vg-text-small vg-font-normal vg-truncate ",description:[" vg-w-full "," vg-text-tiny "," vg-text-foreground-500 "," vg-group-hover:text-current "],selectedIcon:[" vg-text-inherit "," vg-w-3 "," vg-h-3 "," vg-flex-shrink-0 "],shortcut:[" vg-px-1 "," vg-py-0.5 "," vg-rounded "," vg-font-sans "," vg-text-foreground-500 "," vg-text-tiny "," vg-border-small "," vg-border-default-300 "," vg-group-hover:border-current "]},variants:{variant:{solid:{base:" "},bordered:{base:" vg-border-medium vg-border-transparent vg-bg-transparent "},light:{base:" vg-bg-transparent "},faded:{base:" vg-border-small vg-border-transparent vg-hover:border-default vg-data-[hover=true]:bg-default-100 "},flat:{base:" "},shadow:{base:" vg-data-[hover=true]:shadow-lg "}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:" vg-data-[hover=true]:bg-default vg-data-[hover=true]:text-default-foreground "}},{variant:"solid",color:"primary",class:{base:" vg-data-[hover=true]:bg-primary vg-data-[hover=true]:text-primary-foreground "}},{variant:"solid",color:"secondary",class:{base:" vg-data-[hover=true]:bg-secondary vg-data-[hover=true]:text-secondary-foreground "}},{variant:"solid",color:"success",class:{base:" vg-data-[hover=true]:bg-success vg-data-[hover=true]:text-success-foreground "}},{variant:"solid",color:"warning",class:{base:" vg-data-[hover=true]:bg-warning vg-data-[hover=true]:text-warning-foreground "}},{variant:"solid",color:"danger",class:{base:" vg-data-[hover=true]:bg-danger vg-data-[hover=true]:text-danger-foreground "}},{variant:"shadow",color:"default",class:{base:" vg-data-[hover=true]:shadow-default/50 vg-data-[hover=true]:bg-default vg-data-[hover=true]:text-default-foreground "}},{variant:"shadow",color:"primary",class:{base:" vg-data-[hover=true]:shadow-primary/30 vg-data-[hover=true]:bg-primary vg-data-[hover=true]:text-primary-foreground "}},{variant:"shadow",color:"secondary",class:{base:" vg-data-[hover=true]:shadow-secondary/30 vg-data-[hover=true]:bg-secondary vg-data-[hover=true]:text-secondary-foreground "}},{variant:"shadow",color:"success",class:{base:" vg-data-[hover=true]:shadow-success/30 vg-data-[hover=true]:bg-success vg-data-[hover=true]:text-success-foreground "}},{variant:"shadow",color:"warning",class:{base:" vg-data-[hover=true]:shadow-warning/30 vg-data-[hover=true]:bg-warning vg-data-[hover=true]:text-warning-foreground "}},{variant:"shadow",color:"danger",class:{base:" vg-data-[hover=true]:shadow-danger/30 vg-data-[hover=true]:bg-danger vg-data-[hover=true]:text-danger-foreground "}},{variant:"bordered",color:"default",class:{base:" vg-data-[hover=true]:border-default "}},{variant:"bordered",color:"primary",class:{base:" vg-data-[hover=true]:border-primary vg-data-[hover=true]:text-primary "}},{variant:"bordered",color:"secondary",class:{base:" vg-data-[hover=true]:border-secondary vg-data-[hover=true]:text-secondary "}},{variant:"bordered",color:"success",class:{base:" vg-data-[hover=true]:border-success vg-data-[hover=true]:text-success "}},{variant:"bordered",color:"warning",class:{base:" vg-data-[hover=true]:border-warning vg-data-[hover=true]:text-warning "}},{variant:"bordered",color:"danger",class:{base:" vg-data-[hover=true]:border-danger vg-data-[hover=true]:text-danger "}},{variant:"flat",color:"default",class:{base:" vg-data-[hover=true]:bg-default/40 vg-data-[hover=true]:text-default-foreground "}},{variant:"flat",color:"primary",class:{base:" vg-data-[hover=true]:bg-primary/20 vg-data-[hover=true]:text-primary "}},{variant:"flat",color:"secondary",class:{base:" vg-data-[hover=true]:bg-secondary/20 vg-data-[hover=true]:text-secondary "}},{variant:"flat",color:"success",class:{base:" vg-data-[hover=true]:bg-success/20 vg-data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:" vg-data-[hover=true]:bg-warning/20 vg-data-[hover=true]:text-warning "}},{variant:"flat",color:"danger",class:{base:" vg-data-[hover=true]:bg-danger/20 vg-data-[hover=true]:text-danger "}},{variant:"faded",color:"default",class:{base:" vg-data-[hover=true]:text-default-foreground "}},{variant:"faded",color:"primary",class:{base:" vg-data-[hover=true]:text-primary "}},{variant:"faded",color:"secondary",class:{base:" vg-data-[hover=true]:text-secondary "}},{variant:"faded",color:"success",class:{base:" vg-data-[hover=true]:text-success "}},{variant:"faded",color:"warning",class:{base:" vg-data-[hover=true]:text-warning "}},{variant:"faded",color:"danger",class:{base:" vg-data-[hover=true]:text-danger "}},{variant:"light",color:"default",class:{base:" vg-data-[hover=true]:text-default-500 "}},{variant:"light",color:"primary",class:{base:" vg-data-[hover=true]:text-primary "}},{variant:"light",color:"secondary",class:{base:" vg-data-[hover=true]:text-secondary "}},{variant:"light",color:"success",class:{base:" vg-data-[hover=true]:text-success "}},{variant:"light",color:"warning",class:{base:" vg-data-[hover=true]:text-warning "}},{variant:"light",color:"danger",class:{base:" vg-data-[hover=true]:text-danger "}}]}),(0,g.tv)({slots:{base:" vg-relative vg-mb-2 ",heading:" vg-pl-1 vg-text-tiny vg-text-foreground-500 ",group:" vg-data-[has-title=true]:pt-1 ",divider:" vg-mt-2 "}}),(0,g.tv)({base:" vg-w-full vg-flex vg-flex-col vg-gap-0.5 vg-p-1 "}),n(8255)),ar=["as","triggerRef","isOpen","defaultOpen","onOpenChange","type","trigger","placement","isDisabled","closeOnSelect","shouldBlockScroll","classNames","disableAnimation","onClose","className"],rr=["onKeyDown","onPress","onPressStart"];function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ir(e){var t=e.as,n=e.triggerRef,a=e.isOpen,r=e.defaultOpen,o=e.onOpenChange,i=e.type,s=void 0===i?"menu":i,u=e.trigger,c=void 0===u?"press":u,g=e.placement,d=void 0===g?"bottom":g,f=e.isDisabled,p=void 0!==f&&f,b=e.closeOnSelect,h=void 0===b||b,y=e.shouldBlockScroll,w=void 0===y||y,x=e.classNames,O=e.disableAnimation,P=void 0!==O&&O,N=e.onClose,j=e.className,k=(0,v.Z)(e,ar),D=t||"div",S=(0,l.useRef)(null),I=n||S,Z=(0,l.useRef)(null),C=(0,l.useRef)(null),E=(0,Qa.W)({trigger:c,isOpen:a,defaultOpen:r,onOpenChange:function(e){null==o||o(e),e||null==N||N()}}),_=(0,er.u4)({type:s,trigger:c,isDisabled:p},E,I),M=_.menuTriggerProps,R=_.menuProps,T=(0,l.useMemo)((function(){return tr({className:j})}),[j]);return{Component:D,menuRef:Z,menuProps:R,classNames:T,closeOnSelect:h,onClose:E.close,autoFocus:E.focusStrategy||!0,disableAnimation:P,getPopoverProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lr(lr({state:E,placement:d,ref:C,disableAnimation:P,shouldBlockScroll:w,scrollRef:Z,triggerRef:I},(0,we.dG)(k,e)),{},{classNames:lr(lr(lr({},x),e.classNames),{},{content:(0,m.W)(T,null==x?void 0:x.content,e.className)})})},getMenuProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return lr({ref:(0,nr.l)(t,Z),menuProps:R},(0,we.dG)(e,{onAction:function(){var t;(void 0===(t=null==e?void 0:e.closeOnSelect)||t)&&h&&E.close()}}))},getMenuTriggerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(M.onKeyDown,M.onPress,M.onPressStart,(0,v.Z)(M,rr));return lr(lr({},(0,we.dG)(n,e)),{},{ref:(0,nr.l)(t,S)})}}}var sr=["children"],ur=l.createElement,cr=function(e){var t=e.children,n=ir((0,v.Z)(e,sr)),a=l.Children.toArray(t),r=(0,o.Z)(a,2),i=r[0],s=r[1];return ur($a,{value:n},ur(qa.j,n.getPopoverProps(),i,s))};cr.displayName="NextUI.Dropdown";const vr=cr;var gr=n(4724),dr=["children"],fr=l.createElement,mr=(0,c.Gp)((function(e,t){var n=Ya().getMenuTriggerProps,a=e.children,r=(0,v.Z)(e,dr);return fr(gr.b,n(r),a)}));mr.displayName="NextUI.DropdownTrigger";const pr=mr;var br=n(7686),hr=n(190),yr=l.createElement;function wr(e,t){var n=Ya().getMenuProps;return yr(br.g,null,yr(ye.MT,{contain:!0,restoreFocus:!0},yr(hr.U,n(e,t))))}const xr=(0,c.Gp)(wr);wr.displayName="NextUI.DropdownMenu";var Or=n(2616),Pr=n(4511),Nr=l.createElement;const jr=function(e){try{var t,n=(0,i.useRuntime)(),a=(n.handlePushMessage,n.runtime),r=n.confirmedBucket,c=e.message.item,v=l.useState(c.payload.buttons[0]),g=(0,o.Z)(v,2),d=g[0],f=g[1],m=(null==d?void 0:d.buttons)||[],p=l.useState(m[0]),b=(0,o.Z)(p,2),h=b[0],y=b[1];return Nr(Pr.SV,{FallbackComponent:function(){return Nr("div",null,Nr("div",null,"Something went wrong!"))}},Nr("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-chat-message-text-inner-content vg-w-full "},Nr(vr,{className:" vg-w-full "},Nr(pr,{className:" vg-w-full vg-relative "},Nr(u.Z,{variant:"bordered",className:" vg-capitalize vg-w-full "},null==d?void 0:d.label,Nr(Fa.kc8,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}))),Nr(xr,{"aria-label":"Single selection example",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:[null==d?void 0:d.value],onSelectionChange:function(e){var t,n=(0,s.Z)(e)[0];f(c.payload.buttons.find((function(e){return e.value===n}))),y(null===(t=c.payload.buttons.find((function(e){return e.value===n})))||void 0===t?void 0:t.buttons[0])}},(null===(t=c.payload.buttons)||void 0===t?void 0:t.length)&&c.payload.buttons.map((function(e,t){return Nr(Or.W,{key:e.value},e.label)})))),Nr(vr,null,Nr(pr,null,Nr(u.Z,{variant:"bordered",className:" vg-capitalize vg-w-full "},null==h?void 0:h.label,Nr(Fa.kc8,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}))),Nr(xr,{"aria-label":"Single selection example",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:[null==h?void 0:h.value],onSelectionChange:function(e){var t=(0,s.Z)(e)[0];y(m.find((function(e){return e.value===t})))}},(null==m?void 0:m.length)&&m.map((function(e,t){return Nr(Or.W,{key:e.value},e.label)})))),Nr(u.Z,{color:"primary",onPress:function(){(0,i.handlePushMessageNoInteract)({agentID:a.variables.ID,userID:a.userID,action:{type:"default",payload:{type:"MultiDropdown",payload:{selectedButton:d,selectedNestedButton:h}}},messages:[{from:"human",type:"info:success",item:"Submission successful!",delay:0}],bucket:r,vf_variables:{multiDropdown:JSON.stringify({selectedButton:d,selectedNestedButton:h})},origin:"web-chat"})},className:" vg-font-bold "},"Submit")))}catch(e){return Nr("div",{className:" vg-bg-danger-800 vg-text-danger-100 vg-p-unit-4 vg-rounded-large "},Nr("div",null,"Something went wrong! ",e.toString()),Nr("div",null,"Make sure the payload interface matches that in the default example."))}};var kr=l.createElement;function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ir=function(e){var t,n=(0,i.useRuntime)(),a=n.setRuntime,r=n.runtime,s=n.confirmedBucket,c=n.formattedTurnsValue,v=(null==e||null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.options)||{},g=l.useState((null==v?void 0:v.defaultValue)||0),d=(0,o.Z)(g,2),f=d[0],m=d[1],p=l.useState(!1),b=(0,o.Z)(p,2),h=b[0],y=b[1],w=c.length-1;l.useEffect((function(){null!=v&&v.canCancel||a((function(e){return Sr(Sr({},e),{},{blockInput:!0})}))}),[]);var x=function(){var e=(0,G.Z)(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,(0,_.cG)({text:"cancel"===t?"Operation cancelled":"Submitted successfully",translateTo:r.variables.lang});case 3:return n=e.sent,e.next=6,(0,i.handlePushMessageNoInteract)({agentID:r.variables.ID,userID:r.userID,action:void 0,messages:[{from:"human",type:"cancel"===t?"info:danger":"info:success",item:n,delay:0}],bucket:s,origin:"web-chat"});case 6:return e.next=8,new Promise((function(e){return setTimeout(e,1e3)}));case 8:return e.next=10,(0,i.handlePushMessageNoInteract)({agentID:r.variables.ID,userID:r.userID,action:{type:t,payload:{type:"Slider",payload:{value:f}}},bucket:s,vf_variables:{vg_slider_response:JSON.stringify({value:f})},origin:"web-chat"});case 10:y(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return kr("div",{className:" vg-flex vg-flex-col vg-w-full vg-gap-2 "},kr(Jn,{isDisabled:h||e.turnIndex!==w||e.isChatHistory,classNames:{base:"vg-slider",label:"vg-slider--label",value:"vg-slider--value"},showSteps:!0,size:(null==v?void 0:v.size)||"lg",label:(null==v?void 0:v.label)||"NO LABEL",onChange:function(e){m(e)},value:f,step:(null==v?void 0:v.step)||1,maxValue:(null==v?void 0:v.maxValue)||100,minValue:(null==v?void 0:v.minValue)||0,renderValue:function(){return"".concat(f," ").concat((null==v?void 0:v.valueLabel)||"")}}),kr("div",{className:" vg-grid ".concat(v.canCancel?" vg-grid-cols-2 ":" vg-grid-cols-1 "," vg-gap-2 ")},kr(u.Z,{color:"primary",size:"sm",isDisabled:h||e.turnIndex!==w||e.isChatHistory,onPress:function(){x("default")},className:" vg-w-full vg-font-bold "},kr(Q.Z,{to:r.variables.lang},"Submit")),null!=v&&v.canCancel?kr(u.Z,{color:"danger",size:"sm",isDisabled:h||e.turnIndex!==w||!(null!=v&&v.canCancel),onPress:function(){x("cancel")},className:" vg-w-full "},kr(Q.Z,{to:r.variables.lang},"Cancel")):null))};var Zr=n(7897),Cr=n(8473),Er=(0,g.tv)({slots:{base:[" vg-relative "," vg-max-w-fit "," vg-inline-flex "," vg-items-center "," vg-justify-between "," vg-box-border "," vg-whitespace-nowrap "],content:" vg-flex-1 vg-text-inherit vg-font-normal ",dot:[" vg-w-2 "," vg-h-2 "," vg-ml-1 "," vg-rounded-full "],avatar:" vg-flex-shrink-0 ",closeButton:[" vg-z-10 "," vg-appearance-none "," vg-outline-none "," vg-select-none "," vg-transition-opacity "," vg-opacity-70 "," vg-hover:opacity-100 "," vg-cursor-pointer "," vg-active:opacity-disabled "," vg-tap-highlight-transparent "]},variants:{variant:{solid:{},bordered:{base:" vg-border-medium vg-bg-transparent "},light:{base:" vg-bg-transparent "},flat:{},faded:{base:" vg-border-medium "},shadow:{},dot:{base:" vg-border-medium vg-border-default vg-text-foreground vg-bg-transparent "}},color:{default:{dot:" vg-bg-default-400 "},primary:{dot:" vg-bg-primary "},secondary:{dot:" vg-bg-secondary "},success:{dot:" vg-bg-success "},warning:{dot:" vg-bg-warning "},danger:{dot:" vg-bg-danger "}},size:{sm:{base:" vg-px-1 vg-h-6 vg-text-tiny ",content:" vg-px-1 ",closeButton:" vg-text-medium ",avatar:" vg-w-4 vg-h-4 "},md:{base:" vg-px-1 vg-h-7 vg-text-small ",content:" vg-px-2 ",closeButton:" vg-text-large ",avatar:" vg-w-5 vg-h-5 "},lg:{base:" vg-px-2 vg-h-8 vg-text-medium ",content:" vg-px-2 ",closeButton:" vg-text-xl ",avatar:" vg-w-6 vg-h-6 "}},radius:{none:{base:" vg-rounded-none "},sm:{base:" vg-rounded-small "},md:{base:" vg-rounded-medium "},lg:{base:" vg-rounded-large "},full:{base:" vg-rounded-full "}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isCloseButtonFocusVisible:{true:{closeButton:[].concat((0,s.Z)(fe.jR),[" vg-ring-1 "," vg-rounded-full "])}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:Cr.J.solid.default}},{variant:"solid",color:"primary",class:{base:Cr.J.solid.primary}},{variant:"solid",color:"secondary",class:{base:Cr.J.solid.secondary}},{variant:"solid",color:"success",class:{base:Cr.J.solid.success}},{variant:"solid",color:"warning",class:{base:Cr.J.solid.warning}},{variant:"solid",color:"danger",class:{base:Cr.J.solid.danger}},{variant:"shadow",color:"default",class:{base:Cr.J.shadow.default}},{variant:"shadow",color:"primary",class:{base:Cr.J.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:Cr.J.shadow.secondary}},{variant:"shadow",color:"success",class:{base:Cr.J.shadow.success}},{variant:"shadow",color:"warning",class:{base:Cr.J.shadow.warning}},{variant:"shadow",color:"danger",class:{base:Cr.J.shadow.danger}},{variant:"bordered",color:"default",class:{base:Cr.J.bordered.default}},{variant:"bordered",color:"primary",class:{base:Cr.J.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:Cr.J.bordered.secondary}},{variant:"bordered",color:"success",class:{base:Cr.J.bordered.success}},{variant:"bordered",color:"warning",class:{base:Cr.J.bordered.warning}},{variant:"bordered",color:"danger",class:{base:Cr.J.bordered.danger}},{variant:"flat",color:"default",class:{base:Cr.J.flat.default}},{variant:"flat",color:"primary",class:{base:Cr.J.flat.primary}},{variant:"flat",color:"secondary",class:{base:Cr.J.flat.secondary}},{variant:"flat",color:"success",class:{base:Cr.J.flat.success}},{variant:"flat",color:"warning",class:{base:Cr.J.flat.warning}},{variant:"flat",color:"danger",class:{base:Cr.J.flat.danger}},{variant:"faded",color:"default",class:{base:Cr.J.faded.default}},{variant:"faded",color:"primary",class:{base:Cr.J.faded.primary}},{variant:"faded",color:"secondary",class:{base:Cr.J.faded.secondary}},{variant:"faded",color:"success",class:{base:Cr.J.faded.success}},{variant:"faded",color:"warning",class:{base:Cr.J.faded.warning}},{variant:"faded",color:"danger",class:{base:Cr.J.faded.danger}},{variant:"light",color:"default",class:{base:Cr.J.light.default}},{variant:"light",color:"primary",class:{base:Cr.J.light.primary}},{variant:"light",color:"secondary",class:{base:Cr.J.light.secondary}},{variant:"light",color:"success",class:{base:Cr.J.light.success}},{variant:"light",color:"warning",class:{base:Cr.J.light.warning}},{variant:"light",color:"danger",class:{base:Cr.J.light.danger}},{isOneChar:!0,size:"sm",class:{base:" vg-w-5 vg-h-5 vg-min-w-unit-5 vg-min-h-5 "}},{isOneChar:!0,size:"md",class:{base:" vg-w-6 vg-h-6 vg-min-w-unit-6 vg-min-h-6 "}},{isOneChar:!0,size:"lg",class:{base:" vg-w-7 vg-h-7 vg-min-w-unit-7 vg-min-h-7 "}},{isOneChar:!0,isCloseable:!1,class:{base:" vg-px-0 vg-justify-center ",content:" vg-px-0 vg-flex-none "}},{isOneChar:!0,isCloseable:!0,class:{base:" vg-w-auto "}},{hasStartContent:!0,size:"sm",class:{content:" vg-pl-0.5 "}},{hasStartContent:!0,size:["md","lg"],class:{content:" vg-pl-1 "}},{hasEndContent:!0,size:"sm",class:{content:" vg-pr-0.5 "}},{hasEndContent:!0,size:["md","lg"],class:{content:" vg-pr-1 "}}]}),_r=["ref","as","children","avatar","startContent","endContent","onClose","classNames","className"];function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tr=l.createElement;function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lr=(0,c.Gp)((function(e,t){var n=function(e){var t=(0,c.oe)(e,Er.variantKeys),n=(0,o.Z)(t,2),a=n[0],r=n[1],i=a.ref,u=a.as,g=a.children,d=a.avatar,f=a.startContent,p=a.endContent,b=a.onClose,h=a.classNames,y=a.className,w=(0,v.Z)(a,_r),x=u||"div",O=(0,xe.gy)(i),P=(0,m.W)(null==h?void 0:h.base,y),N=!!b,j="dot"===e.variant,k=(0,ye.Fx)(),D=k.focusProps,S=k.isFocusVisible,I=(0,l.useMemo)((function(){return"string"==typeof g&&1===(null==g?void 0:g.length)}),[g]),Z=(0,l.useMemo)((function(){return!!d||!!f}),[d,f]),C=(0,l.useMemo)((function(){return!!p||N}),[p,N]),E=(0,l.useMemo)((function(){return Er(Rr(Rr({},r),{},{hasStartContent:Z,hasEndContent:C,isOneChar:I,isCloseable:N,isCloseButtonFocusVisible:S}))}),[].concat((0,s.Z)(Object.values(r)),[S,Z,C,I,N])),_=(0,he.r)({isDisabled:!(null==e||!e.isDisabled),onPress:b}).pressProps,M=function(e){return(0,l.isValidElement)(e)?(0,l.cloneElement)(e,{className:(0,m.W)("max-h-[80%]",e.props.className)}):null};return{Component:x,children:g,slots:E,classNames:h,isDot:j,isCloseable:N,startContent:function(e){return(0,l.isValidElement)(e)?(0,l.cloneElement)(e,{className:E.avatar({class:null==h?void 0:h.avatar})}):null}(d)||M(f),endContent:M(p),getCloseButtonProps:function(){return Rr({role:"button",tabIndex:0,className:E.closeButton({class:null==h?void 0:h.closeButton})},(0,we.dG)(_,D))},getChipProps:function(){return Rr({ref:O,className:E.base({class:P})},w)}}}(Br(Br({},e),{},{ref:t})),a=n.Component,r=n.children,i=n.slots,u=n.classNames,g=n.isDot,d=n.isCloseable,f=n.startContent,p=n.endContent,b=n.getCloseButtonProps,h=n.getChipProps,y=(0,l.useMemo)((function(){return g&&!f?Tr("span",{className:i.dot({class:null==u?void 0:u.dot})}):f}),[i,f,g]),w=(0,l.useMemo)((function(){return d?Tr("span",b(),p||Tr(Zr.f,null)):p}),[p,d,b]);return Tr(a,h(),y,Tr("span",{className:i.content({class:null==u?void 0:u.content})},r),w)}));Lr.displayName="NextUI.Chip";const zr=Lr;var Fr=n(9472),Ar=l.createElement;function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Wr=function(e){var t=(0,l.useState)([]),n=t[0],r=t[1],i=(0,l.useState)(!1),u=i[0],c=i[1],v=(0,l.useState)(0),g=v[0],d=v[1],f=(0,l.useState)([]),m=f[0],p=f[1],b=(0,l.useState)([]),h=b[0],y=b[1],w=l.useState({fileName:!1}),x=(0,o.Z)(w,2),O=(x[0],x[1]),P=(0,l.useState)([]),N=(P[0],P[1],(0,l.useState)([])),j=N[0],k=N[1],D=(0,H.cF)(X.l2,"voiceglow-eu");l.useEffect((function(){if(null!=m&&m.length&&!e.lightMode)return e.uploadTasksCallback&&e.uploadTasksCallback(m),m.forEach((function(e){e.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);d(t)}),(function(e){}),(function(){c(!1),d(0)}))})),function(){m.forEach((function(e){return e.cancel()}))}}),[m]);var S=function(){var t=(0,G.Z)(W().mark((function t(n){var a;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDisabled){t.next=2;break}return t.abrupt("return");case 2:e.onStartUpload&&e.onStartUpload(),a=n.map((function(t){var n,a=t.size,o=e.path||"/public",l=(null===(n=t.name)||void 0===n||null===(n=n.split(".")[1])||void 0===n?void 0:n.toLowerCase())||!1;if(e.accept&&!e.accept.includes(l))return alert("Only ".concat(e.accept.join(", ")," files are allowed"));if(e.maxSizeMB&&1e6*e.maxSizeMB<a)return alert("Max size: ".concat(e.maxSizeMB,"MB"));var i=(0,_.D1)(10),u="".concat(o,"/").concat(i,".").concat(t.name.split(".")[1]),v=(0,H.iH)(D,"".concat(u));if(!e.lightMode){var g=(0,H.B0)(v,t,{cacheControl:"public,max-age=31536000"});return g.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);d(t)}),(function(e){}),(function(){(0,H.Jt)(v).then(function(){var n=(0,G.Z)(W().mark((function n(l){var c,v,g;return W().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c={url:l,path:"".concat(o),id:e.id||i,dbFilePath:u,name:t.name,bucket:"voiceglow-eu",serverFilename:"".concat(i,"-").concat(t.name),sizeMbs:a/1e6},e.callback&&e.callback(c),null!=e&&e.userId&&(g=Math.min(Math.round((null===Fr.R||void 0===Fr.R||null===(v=Fr.R.COSTS_CREDITS)||void 0===v?void 0:v.FILE_UPLOADED_PER_MB)*(t.size/1e6)),100),fetch("".concat((0,ee.Sw)({region:"voiceglow-eu"===(null==e?void 0:e.bucket)?"eu":"na"}),"/public/users/").concat(e.userId,"/consume-credits"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({consume:g,logData:{amount:g,agentId:null==e?void 0:e.agentId,causedBy:"agent",logMessage:"File with size ".concat(a/1e6," MBs was uploaded through an agent, consuming ").concat(g," credits")}})})),r((function(e){return[].concat((0,s.Z)(e),[c])})),O((function(e){return Ur(Ur({},e),{},{fileName:t.name})}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),c(!0),g}var f={id:i,serverFilename:"".concat(i,"-").concat(t.name),serverFilePath:u,file:t};k((function(t){var n=[].concat((0,s.Z)(t),[f]);return e.lightCallback&&e.lightCallback(n),n}))})),y((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(a.filter((function(e){return null!==e}))))})),p(a.filter((function(e){return null!==e})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();l.useEffect((function(){null!=e&&e.setLoading&&((null==n?void 0:n.length)===(null==h?void 0:h.length)?e.setLoading(!1):e.setLoading(!0))}),[h,n]);var I=(0,J.uI)({onDrop:S,multiple:!0}),Z=I.getRootProps,C=I.getInputProps;return I.isDragActive,Ar("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-w-full vg-h-full "},Ar("div",{className:" vg-w-full vg-h-full vg-mx-auto vg-p-unit-2 vg-rounded-lg vg-transition-all vg-duration-500 ".concat(e.isDisabled&&" vg-opacity-75 "," vg-upload-container")},Ar("div",(0,a.Z)({},Z(),{className:" vg-w-full vg-h-full vg-flex-all-center vg-border-dashed vg-border-2 ".concat(n.length>0?" vg-border-foreground ":" vg-border-primary-400 "," vg-rounded-lg ").concat(e.className||" "," vg-transition-all vg-duration-500 vg-upload-drop-container")}),Ar("input",C()),n.length>0&&!u&&"img"==e.type?n.map((function(e,t){return Ar("img",{key:t,className:" vg-w-unit-32 vg-h-unit-32 vg-upload--img-placeholder",src:e.url})})):!n.length&&!u&&Ar($.IEK,{className:" vg-w-unit-12 vg-h-unit-12 vg-upload--icon"}),u?Ar(l.Fragment,null,Ar(K.Z,{className:" vg-mb-unit-2 vg-upload-spinner",color:"primary"}),Ar("p",{className:" vg-opacity-50 vg-mb-unit-2 vg-text-small vg-text-center vg-leading-unit-5 vg-upload-text"},Ar(Q.Z,{text:"Uploading.."})," ",Ar("br",null),Ar(Q.Z,{text:"Please Keep This Tab Open"})),Ar("div",{className:" vg-w-[80%] vg-h-unit-5 vg-bg-primary-100 vg-rounded-full vg-overflow-hidden vg-mx-auto vg-upload-loading-container"},Ar("div",{className:" vg-h-full vg-bg-primary-700 vg-relative vg-upload-loading--bar",style:{width:"".concat(g||1,"%")}},Ar("p",{className:" vg-absolute vg-right-unit-1 vg-top-[2px] vg-text-small vg-text-primary-100 vg-upload-loading--text"},"".concat(g||1,"%"))))):Ar(l.Fragment,null,n.length>0&&e.showUrls&&!e.lightMode?Ar("div",{className:" vg-text-foreground "},Ar("div",{className:" vg-mb-unit-1 vg-flex vg-items-center vg-font-medium "},Ar(q.DVR,{className:" vg-w-unit-4 vg-h-unit-4 vg-mr-unit-2 "}),Ar("p",null,Ar(Q.Z,{text:"Uploaded Successfully"}))),n.map((function(e,t){return Ar("p",{key:t,className:" vg-opacity-75 vg-text-center "},(0,_.MB)(e.name,20))}))):Ar(l.Fragment,null,Ar("p",{className:" vg-text-small "},Ar(Q.Z,{text:"Drag and Drop Here"})),e.maxSizeMB&&Ar("p",{className:" vg-opacity-75 vg-mb-unit-3 vg-text-small "},Ar(Q.Z,{text:"Max Size:"})," ",Ar("strong",null,e.maxSizeMB,"MB")),e.accept?Ar("p",{className:" vg-opacity-75 vg-text-small "},Ar(Q.Z,{text:"Only"})," ",e.accept.length?e.accept.map((function(e){return e+" "})):""," ",Ar(Q.Z,{text:"Files"})):"")))),Ar("div",null,(null==j?void 0:j.length)>0?j.map((function(t){return Ar(zr,{variant:"light",onClose:function(){k((function(n){var a=n.filter((function(e){return e.id!==t.id}));return e.lightCallback&&e.lightCallback(j.filter((function(e){return e.id!==t.id}))),a}))}},Ar("p",{className:" vg-text-foreground "},t.file.name))})):null))};var Hr=l.createElement;function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Kr=function(e){var t,n,a,r=(0,i.useRuntime)(),c=r.setRuntime,v=r.runtime,g=r.confirmedBucket,d=r.formattedTurnsValue,f=(null==e||null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.options)||{},m=l.useState((null==f?void 0:f.defaultValue)||0),p=(0,o.Z)(m,2),b=p[0],h=(p[1],l.useState(!1)),y=(0,o.Z)(h,2),w=y[0],x=y[1],O=d.length-1,P=l.useState([]),N=(0,o.Z)(P,2),j=N[0],k=N[1];l.useEffect((function(){null!=f&&f.canCancel||c((function(e){return qr(qr({},e),{},{blockInput:!0})}))}),[]);var D=function(){var e=(0,G.Z)(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,i.handlePushMessageNoInteract)({agentID:v.variables.ID,userID:v.userID,action:void 0,messages:[{from:"human",type:"cancel"===t?"info:danger":"info:success",item:"cancel"===t?"Operation cancelled":"Submitted successfully",delay:0}],bucket:g,origin:"web-chat"});case 3:return e.next=5,new Promise((function(e){return setTimeout(e,1e3)}));case 5:return e.next=7,(0,i.handlePushMessageNoInteract)({agentID:v.variables.ID,userID:v.userID,action:{type:t,payload:{type:"MultiFileUpload",payload:{value:b}}},bucket:g,vf_variables:{vg_filesupload_response:JSON.stringify({files:j.map((function(e){return{url:e.url,name:e.name,sizeMegabytes:e.sizeMbs}}))})},origin:"web-chat"});case 7:x(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Hr("div",{className:" vg-w-full vg-h-full vg-flex vg-flex-col vg-gap-1 vg-multiupload--container"},Hr("div",{style:{height:150+10*j.length},className:" vg-w-full vg-text-foreground vg-multiupload--dropbox"},Hr(Wr,{loading:w,setLoading:x,bucket:g,agentId:null==v||null===(n=v.variables)||void 0===n?void 0:n.ID,userId:null===(a=v.variables)||void 0===a?void 0:a.ownerID,variant:"plain",showUrls:!0,callback:function(e){k((function(t){return[].concat((0,s.Z)(t),[e])}))}})),Hr("div",{className:" vg-w-full vg-grid vg-grid-cols-2 vg-gap-2 vg-multiupload--buttons"},Hr(u.Z,{className:" ".concat(!1===(null==f?void 0:f.canCancel)?" vg-col-span-full ":" "," vg-multiupload--submit"),isLoading:w,isDisabled:!(null!=j&&j.length)||O!==e.turnIndex,color:"primary",onPress:function(){D("default")}},Hr(Q.Z,null,"Submit")),!1===(null==f?void 0:f.canCancel)?null:Hr(u.Z,{className:"vg-multiupload--cancel",color:"danger",isDisabled:w||!1===(null==f?void 0:f.canCancel)||O!==e.turnIndex,onPress:function(){D("cancel")}},Hr(Q.Z,null,"Cancel"))))};var Xr=l.createElement,$r=I()((function(){return n.e(413).then(n.bind(n,1413))}),{loading:function(){return Xr(Qr,{variant:"no-avatar"})},loadableGenerated:{webpack:function(){return[1413]}}}),Yr=I()((function(){return Promise.all([n.e(893),n.e(414)]).then(n.bind(n,1414))}),{loadableGenerated:{webpack:function(){return[1414]}}}),Qr=I()((function(){return Promise.resolve().then(n.bind(n,5392))}),{loadableGenerated:{webpack:function(){return[5392]}}});const eo=function(e){var t,n,r,u,c,v,g,d,f,m,p,b=(0,te.B)().config,h=(0,i.useRuntime)(),y=h.runtime,w=(h.handlePushMessage,h.formattedTurnsValue),x=(0,Z.F)().theme,O=e.turnIndex,P=e.messageIndex,N=e.messageItem,j=e.turn,k=e.turnsWithoutButtonMessages||w,S=l.useState(!1),I=(0,o.Z)(S,2),C=I[0],E=I[1],_=l.useState(!1),M=(0,o.Z)(_,2),T=M[0],B=M[1],F=(null===(t=k[O])||void 0===t||null===(t=t.messages)||void 0===t?void 0:t.length)-1,G=null!=b&&null!==(n=b.extensions)&&void 0!==n&&n.length?(0,s.Z)((null==b?void 0:b.extensions)||[]):[],U=l.useMemo((function(){var t,n,r,o,i,s;return Xr(l.Fragment,null,G.find((function(e){return e.name===(null==N?void 0:N.type)}))?Xr(Ja,{item:N,extension:G.find((function(e){return e.name===(null==N?void 0:N.type)})),messageIndex:P,turnIndex:O}):null,"text"===(null==N?void 0:N.type)?Xr(Ke.Z,{feedback:null==N?void 0:N.feedback,isChatHistory:e.isChatHistory,className:" vg- ".concat("human"===N.from&&" vg-w-auto vg-max-w-[75%] "," vg- ").concat("human"===N.from&&" ".concat(x.includes("dark")?" vg-bg-primary-300 ":" vg-bg-primary-600 "," vg-p-6 vg-rounded-tl-[25px] vg-rounded-bl-[25px] vg-rounded-tr-[25px] vg-rounded-br-[5px] ")," vg-justify-self-end vg-message-text-").concat(N.from," "),key:"text___view_".concat(O,"_").concat(P),message:N}):"","Flowise"!==(null==N?void 0:N.type)||e.isChatHistory?null:Xr($r,{message:N,turnIndex:O,messageIndex:P}),"MultiDropdown"===(null==N?void 0:N.type)?Xr(jr,{turnIndex:O,message:N,messageIndex:P}):null,null!=N&&null!==(t=N.type)&&void 0!==t&&t.includes("info")?Xr(Va,{message:N,turnIndex:O,messageIndex:P}):"","EmailForm"===(null==N?void 0:N.type)?Xr(Wa,{messageIndex:P,turnIndex:O,message:N}):null,"choice"===(null==N?void 0:N.type)&&"in-footer"!==(null==y||null===(n=y.variables)||void 0===n?void 0:n.buttonsLayout)?Xr(R.Z,{isCarousel:"horizontal"===(null===(r=y.variables)||void 0===r?void 0:r.buttonsLayout),messageTurnIndex:O,key:"button_turn_".concat(O,"_message_").concat(P),size:"md",item:N.item,index:P,className:" vg-tw-ltr vg-buttons-message--btn",containerClassname:"tw-ltr vg-buttons-message-btn-container"}):null,"jsx"===(null==N?void 0:N.type)?Xr("div",{className:" vg-w-full vg-h-auto vg-message-custom-jsx"},N.item):null,"carousel"===(null==N?void 0:N.type)?Xr("div",{key:"carosel_for_".concat(O),className:" vg-w-full vg-h-auto vg-message-carousel-container"},Xr(A,{turnIndex:O,messageIndex:P,lastBotMessageIndex:j.messages.length-1,cards:(null===(o=N.item)||void 0===o||null===(o=o.payload)||void 0===o?void 0:o.cards)||N.item})):null,"cardV2"===(null==N?void 0:N.type)?Xr("div",{key:"card_for_".concat(O,"_message_").concat(P),className:" vg-w-full vg-h-auto vg-relative vg-message-card-container"},Xr(V,(0,a.Z)({},null==N||null===(i=N.item)||void 0===i?void 0:i.payload,{turnIndex:O}))):null,"visual"===(null==N?void 0:N.type)?Xr(La,{messageIndex:P,turnIndex:O,message:N}):null,"FileUpload"===(null==N?void 0:N.type)?Xr(ue,{turnIndex:O,messageIndex:P}):null,"MultiFileUpload"===(null==N?void 0:N.type)?Xr(Kr,{turnIndex:O,messageIndex:P,message:N}):null,"MultiSelect"===(null==N?void 0:N.type)?Xr(qe,{turnIndex:O,messageIndex:P,buttons:(null==N||null===(s=N.item)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.buttons)||N.item}):null,"Embed"===(null==N?void 0:N.type)||"iFrame"===(null==N?void 0:N.type)?Xr("div",{key:"embed_".concat(O,"_message_").concat(P),className:" vg-w-full vg-h-auto "},Xr(et,{iFrame:"iFrame"===(null==N?void 0:N.type),itemData:N.item})):null,"GoogleForm"===(null==N?void 0:N.type)?Xr("div",{key:"gfrom_".concat(O,"_message_").concat(P),className:" vg-w-full vg-h-auto "},Xr(ha,{turnIndex:O,messageIndex:P,item:N.item})):null,"VoiceNote"===(null==N?void 0:N.type)?Xr("div",{key:"voicenote_".concat(O,"_message_").concat(P),className:" vg-w-full vg-h-auto "},Xr(Na,{audioLink:N.item.payload,withWaves:!0})):null,"Slider"===(null==N?void 0:N.type)?Xr("div",{key:"slider_".concat(O,"_message_").concat(P),className:" vg-w-full vg-h-auto vg-p-4 vg-rounded-large vg-bg-content2 "},Xr(Ir,{turnIndex:O,messageIndex:P,message:N,isChatHistory:e.isChatHistory})):null,"end"===(null==N?void 0:N.type)?Xr(_a,{isChatHistory:e.isChatHistory,hasEverPaid:e.hasEverPaid,turnIndex:O,messageIndex:P}):null)}),[N,null==N?void 0:N.type,null===(r=N.item)||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.message,null===(u=N.item)||void 0===u||null===(u=u.payload)||void 0===u?void 0:u.buttons,null===(c=N.item)||void 0===c||null===(c=c.payload)||void 0===c?void 0:c.image,null==N||null===(v=N.item)||void 0===v||null===(v=v.payload)||void 0===v?void 0:v.title,null==N||null===(g=N.item)||void 0===g||null===(g=g.payload)||void 0===g?void 0:g.imageUrl,null==N||null===(d=N.item)||void 0===d||null===(d=d.payload)||void 0===d||null===(d=d.description)||void 0===d?void 0:d.text,b,null==N||null===(f=N.item)||void 0===f||null===(f=f.payload)||void 0===f?void 0:f.url]);return Xr("div",{key:"container_turn_".concat(O,"_message_").concat(P,"_from_").concat(N.from),className:" vg-flex vg-relative vg-flex-col vg-gap-unit-2 vg-h-full vg-message-container vg-message-container-".concat(N.from," ")},Xr(D.M,null,Xr(z.Z,{onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},id:"turn_".concat(O,"_message_").concat(P),className:" ".concat("carousel"===(null==N?void 0:N.type)?" ":" vg-mx-unit-4 vg-md:mx-unit-6 "," vg-relative vg-h-full vg-flex vg-gap-unit-2 vg-overflow-y-hidden vg-overflow-x-hidden vg-message-outer-container"),divKey:"turn_".concat(O,"_message_").concat(P,"_from_").concat(N.from)},"carousel"!==(null==N?void 0:N.type)&&Xr("div",{className:" vg-w-unit-10 vg-flex vg-items-end vg-message-avatar-container"},"bot"===N.from&&(P===F||e.isChatHistory)&&Xr(L.Z,{key:"chat_avatar_".concat(O,"_").concat(P)})),Xr("div",{onMouseLeave:function(){return E(!1)},onMouseEnter:function(){return E(!0)},className:" vg-transition-all vg-duration-300 vg-ease-in-out ".concat((N.isLoading," vg-opacity-100 ")," vg-group vg-relative vg-text-medium vg-h-auto vg-flex vg-gap-unit-2 ").concat("choice"===(null==N?void 0:N.type)?" vg-w-[90%] ":" "," ").concat("GoogleForm"===N.type?" vg-overflow-x-auto ":" "," ").concat("bot"!==N.from||"text"!==(null==N?void 0:N.type)&&"Flowise"!==(null==N?void 0:N.type)&&"GoogleForm"!==(null==N?void 0:N.type)&&"VoiceNote"!==(null==N?void 0:N.type)?" ":" vg-bg-content2 vg-p-unit-1 ".concat("text"===(null==N?void 0:N.type)?" vg-max-w-[75%] ":" vg-w-[75%] "," vg-rounded-tl-large vg-rounded-bl-[5px] vg-rounded-tr-large vg-rounded-br-large vg-max-w-[500px] vg-message-inner-container-bot")," ").concat("human"===N.from?"vg-message-inner-container-human vg-text-white vg-justify-self-end vg-w-full vg-flex-row-reverse ":" "," ").concat("bot"===N.from&&"text"!==(null==N?void 0:N.type)&&"Flowise"!==(null==N?void 0:N.type)&&"carousel"!==(null==N?void 0:N.type)?" vg-max-w-[700px] ":" "," ").concat("carousel"===(null==N?void 0:N.type)||"Embed"===(null==N?void 0:N.type)||"iFrame"===(null==N?void 0:N.type)||"FileUpload"===(null==N?void 0:N.type)||"MultiFileUpload"===(null==N?void 0:N.type)||"MultiSelect"===(null==N?void 0:N.type)||"MultiDropdown"===(null==N?void 0:N.type)||"Slider"===N.type?" vg-w-full ":" "," ")},U,Xr(D.M,null,"text"===(null==N?void 0:N.type)&&"bot"===N.from&&null!==(m=y.variables)&&void 0!==m&&m.recordChatHistory&&(C||null!=y&&null!==(p=y.variables)&&void 0!==p&&null!==(p=p.ui)&&void 0!==p&&p.enableFixedFeedbackBtns)&&!e.isChatHistory?Xr(Yr,{turnIndex:O,messageIndex:P}):""),Xr(D.M,null,T&&"text"===(null==N?void 0:N.type)&&"human"===N.from?Xr(ve,{ts:N.ts,turnIndex:O,messageIndex:P}):"")),Xr(D.M,null,T&&"text"===(null==N?void 0:N.type)&&"bot"===N.from?Xr(ve,{ts:N.ts,turnIndex:O,messageIndex:P}):""))))};var to=n(1451),no=n(155),ao=n(9332),ro=n(1300),oo=n(8871),lo=l.createElement;const io=function(e){var t=e.onAudioStart,n=e.onAudioComplete,r=e.buttonProps,o=e.setIsRecordingParent,i=(0,l.useState)(null),s=i[0],c=i[1],v=(0,l.useState)(!1),g=v[0],d=v[1],f=(0,l.useState)(!1),m=(f[0],f[1]);l.useEffect((function(){o&&o(g)}),[g]),l.useEffect((function(){try{var e;null===(e=navigator)||void 0===e||null===(e=e.permissions)||void 0===e||e.query({name:"microphone"}).then((function(e){"granted"===(null==e?void 0:e.state)?m(!0):m(!1)})).catch((function(e){}))}catch(e){}}),[]);var p=function(){var e=(0,G.Z)(W().mark((function e(){var t,n,a,r,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=window)||void 0===t||!t.MediaRecorder||null===(n=navigator)||void 0===n||!n.mediaDevices){e.next=15;break}return e.prev=1,e.next=4,null===(a=navigator)||void 0===a||null===(a=a.mediaDevices)||void 0===a?void 0:a.getUserMedia({audio:!0});case 4:r=e.sent,o=new MediaRecorder(r),c(o),b(o),m(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),m(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,G.Z)(W().mark((function e(a){var r,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=a||s)?(o=[],r.ondataavailable=function(e){e.data.size>0&&o.push(e.data)},r.onstop=(0,G.Z)(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Blob(o,{type:"audio/wav"}),d(!1),n&&n(t);case 3:case"end":return e.stop()}}),e)}))),r.start(),d(!0),t&&t()):p()}catch(e){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){try{var e;s.stop(),null==s||null===(e=s.stream)||void 0===e||null===(e=e.getTracks())||void 0===e||e.forEach((function(e){return e.stop()}))}catch(e){}};return lo(u.Z,(0,a.Z)({color:g?"danger":"primary",variant:"light",className:"vg-audio-recorder--button",isIconOnly:!0,type:"button",onPressStart:function(){"recording"===(null==s?void 0:s.state)?h():p()},onPressEnd:function(){"recording"===(null==s?void 0:s.state)&&h()}},r),lo(wa.uYL,{className:" vg-w-unit-5 vg-h-unit-5 vg-object-cover vg-audio-recorder--icon"}))};var so=l.createElement;function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vo=function(e){(0,te.B)().config,(0,ao.useSearchParams)();var t,n,a,r,c,v,g=(0,i.useRuntime)(),d=g.runtime,f=g.setRuntime,m=(g.handleNewResponse,g.handlePushMessage),p=g.pushChatNotice,b=g.isTest,h=g.formattedTurnsValue,y=g.lightConvoData,w=g.confirmedBucket,x=l.useState(""),O=(0,o.Z)(x,2),P=O[0],N=O[1],j=l.useState(!1),S=(0,o.Z)(j,2),I=S[0],Z=S[1],C=l.useState(!1),M=(0,o.Z)(C,2),T=M[0],V=M[1],B=l.useState(null),L=(0,o.Z)(B,2),F=L[0],A=L[1],U=l.useState({from:"bot",messages:[]}),H=(0,o.Z)(U,2),J=H[0],q=H[1],K=function(){var e=(0,G.Z)(W().mark((function e(t){var n,a,r,o,l,i,s,u,c;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=31;break}return e.next=3,X(t);case 3:return n=e.sent,e.prev=4,e.next=7,fetch("".concat((0,ee.Sw)({region:d.region}),"/vg/").concat(d.variables.ID,"/stt"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vg_id:d.variables.ID,base64Audio:n,lang:(null===(a=d.variables)||void 0===a?void 0:a.lang)||"en"})});case 7:return r=e.sent,e.next=10,r.json();case 10:if(o=e.sent,!(l=o.text)){e.next=16;break}N((function(e){return e+" "+l})),e.next=20;break;case 16:return e.next=18,(0,_.cG)({translateTo:(null===(i=d.variables)||void 0===i?void 0:i.lang)||"en",text:"No text understood, please make sure to hold > speak > release."});case 18:s=e.sent,p(s,"fail",2500);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(4),e.next=26,(0,_.cG)({translateTo:(null===(u=d.variables)||void 0===u?void 0:u.lang)||"en",text:"Error during API call"});case 26:c=e.sent,p(c,"fail",2500);case 28:return e.prev=28,Z(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,22,28,31]])})));return function(t){return e.apply(this,arguments)}}(),X=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e,a=null==n||null===(e=n.result)||void 0===e?void 0:e.toString().split(",")[1];t(a||"")},n.readAsDataURL(e)}))},$=l.useMemo((function(){var e;return null!==(e=d.variables)&&void 0!==e&&e.customButtonJSON_STRING?JSON.parse(d.variables.customButtonJSON_STRING||"{}"):{viewValue:"default",type:"default"}}),[null==d?void 0:d.variables]);function Y(){return(Y=(0,G.Z)(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(0,i.handlePushMessageNoInteract)({agentID:null===(n=d.variables)||void 0===n?void 0:n.ID,userID:d.userID,messages:[{from:"human",type:"visual",item:{payload:{image:t}},isLoading:!0}],bucket:d.bucket});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.useEffect((function(){var e;window.innerWidth>=900&&!1===d.loading&&(0,_.PZ)(document.getElementById("VG_TEXT_INPUT_CHATBOT"))&&(null===(e=document.getElementById("VG_TEXT_INPUT_CHATBOT"))||void 0===e||e.focus())}),[d.loading]);var ne=(null==y?void 0:y.chatAssignedTo)&&"human-chatting"===(null==y?void 0:y.state);function ae(){return re.apply(this,arguments)}function re(){return(re=(0,G.Z)(W().mark((function e(){var t,n,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(""),!P){e.next=6;break}return"bot"===(null==(n=h[h.length-1])?void 0:n.from)&&document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_turn",data:{from:"human",message:P},ts:k()().unix()}})),e.next=6,m(P,{type:"text",payload:P},(null===(t=d.variables)||void 0===t?void 0:t.delayBeforeSubmit)||!1);case 6:window.innerWidth>=900&&(null===(a=document.getElementById("VG_TEXT_INPUT_CHATBOT"))||void 0===a||a.focus());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.useEffect((function(){var e,t;if("in-footer"===(null==d||null===(e=d.variables)||void 0===e?void 0:e.buttonsLayout)&&(null!=J&&null!==(t=J.messages)&&void 0!==t&&t.length&&q({from:"bot",messages:[]}),F&&clearTimeout(F),0!==h.length)){var n=(0,s.Z)(h),a=n[n.length-1],r=null!=a&&a.messages?a.messages[a.messages.length-1]:null,o=a.messages.slice(0,a.messages.length-1).reduce((function(e,t){return e+(t.delay||1e3)}),0),l=setTimeout((function(){"choice"===(null==r?void 0:r.type)&&"bot"===a.from&&q(a)}),o);A(l)}}),[h]);var oe=null!=J&&J.messages?J.messages[J.messages.length-1]:null;return so("div",{className:" vg-w-[95%] vg-h-full vg-footer-container"},so(D.M,null,"bot"===(null==J?void 0:J.from)&&"choice"===(null==oe?void 0:oe.type)?so(ya.E.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:10},exit:{opacity:0,height:0,marginBottom:0},key:"proactive-message-container"},so(R.Z,{isCarousel:!0,messageTurnIndex:999,size:"sm",item:oe.item,index:0,className:" vg-tw-ltr vg-proactive-message--btn",containerClassname:" vg-proactive-message-btn-container"})):null),so("form",{className:" vg-w-full vg-h-full vg-flex vg-items-center vg-m-0 vg-footer-form",onSubmit:function(){var e=(0,G.Z)(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ae();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},so(za.Z,{maxRows:5,minRows:1,placeholder:T?"Recording..":I?"Loading..":"",autoComplete:"off",id:"VG_TEXT_INPUT_CHATBOT",onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ae())},classNames:{base:" vg-h-auto vg-border-none vg-shadow-none vg-outline-none vg-footer-input-base",mainWrapper:" vg-py-unit-2 vg-border-none vg-shadow-none vg-outline-none vg-footer-input-main-wrapper",helperWrapper:" vg-py-unit-4 vg-relative vg-border-none vg-shadow-none vg-outline-none vg-footer-input-helper-wrapper",inputWrapper:" vg-h-unit-14 vg-border-none vg-shadow-none vg-outline-none vg-min-h-0 vg-footer-input-wrapper",input:" vg-font-bold vg-text-primary-900 vg-text-[16px] vg-h-[20px] vg-border-none vg-shadow-none vg-outline-none vg-min-h-0 vg-footer-input",label:" vg-text-primary vg-border-none vg-shadow-none vg-outline-none vg-mb-0 vg-footer-input--label"},isDisabled:!ne&&!d.callOngoing&&(!!b&&!(0,_.JB)(h,ro.s)||!(null==d||!d.blockInput)||d.loading&&!d.blockLoading),variant:"flat",className:" vg-text-foreground vg-h-full ",color:"primary",label:so("div",{className:" vg-flex vg-items-center vg-gap-1 "},so(to.zYI,{className:" vg-w-4 vg-h-4 "}),so(Q.Z,{text:"Message",to:(null===(t=d.variables)||void 0===t?void 0:t.lang)||"en"})),value:P,onValueChange:function(e){return N(e)},endContent:so("div",{className:" vg-flex vg-items-center vg-gap-1 vg-justify-center vg-h-full vg-w-auto vg-mt-[-20px] vg-footer-icons-container",key:"submit-icon-button-thing"},ne?so(oo.Z,{noOptions:!0,bucket:w,callback:function(e){!function(e){Y.apply(this,arguments)}(e.url)},className:"vg-footer--attachment vg-w-unit-10 vg-h-unit-10 vg-flex vg-justify-center vg-items-center vg-mr-unit-1 vg-mt-unit-1 "},so(Fa.G1z,{className:"vg-footer-attachment--icon vg-w-unit-6 vg-h-unit-6 vg-text-primary "})):null,null!=d&&null!==(n=d.variables)&&void 0!==n&&n.enableQuickFileUpload&&"vg"!==(null==d||null===(a=d.variables)||void 0===a?void 0:a.agentPlatform)?so(oo.Z,{noOptions:!0,className:" vg-w-unit-10 vg-h-unit-10 ",bucket:w,callback:function(e){var t={type:"VGVF_Channel",vf_variables:{vg_media_url:e.url},data:e};m(JSON.stringify(t),{type:"intent",payload:{entities:[{name:"vg_media_url",value:e.url}],intent:{name:"VG_MEDIA_UPLOAD"}}})}},so(Fa.G1z,{className:"vg-footer-attachment--icon vg-w-unit-6 vg-h-unit-6 vg-text-primary "})):null,null!==(r=d.variables)&&void 0!==r&&null!==(r=r.vapi)&&void 0!==r&&r.id&&null!=d&&null!==(c=d.variables)&&void 0!==c&&null!==(c=c.vapiConfig)&&void 0!==c&&c.enableVapiOnWeb?so(u.Z,{variant:"light",color:"primary",isIconOnly:!0,onPress:function(){f((function(e){return co(co({},e),{},{showVapiUI:!e.showVapiUI})}))}}," ",so(no.DsV,{className:" vg-w-unit-5 vg-h-unit-5 vg-flex-shrink-0 "})):null,(null==d||null===(v=d.variables)||void 0===v?void 0:v.enableAudioSupport)&&so(l.Fragment,null,so(io,{setIsRecordingParent:V,buttonProps:{isDisabled:I},onAudioComplete:function(e){!function(e){Z(!0),K(e).then((function(){Z(!1)})).catch((function(e){Z(!1)}))}(e)},onAudioStart:function(){}})),"default"===$.type&&so(u.Z,{onPress:function(){f((function(e){var t,n;return co(co({},e),{},{notice:co(co({},e.notice),{},{custom:so(z.Z,{divKey:"should_end_chat",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur "},so("div",{className:" vg-p-unit-5 "},so("div",{className:" vg-flex vg-flex-col vg-gap-unit-2 "},so(u.Z,{onPress:function(){document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:k()().unix()},ts:k()().unix()}})),f((function(e){return co(co({},e),{},{reload:!0,notice:co(co({},e.notice),{},{custom:""})})}))},variant:"solid",color:"danger"},so(Q.Z,{text:"Refresh the Conversation",to:null===(t=d.variables)||void 0===t?void 0:t.lang})),so(u.Z,{onPress:function(){f((function(e){return co(co({},e),{},{notice:co(co({},e.notice),{},{custom:""})})}))},variant:"light",className:" vg-bg-background vg-text-foreground "},so(Q.Z,{text:"Cancel",to:null===(n=d.variables)||void 0===n?void 0:n.lang})))))})})}))},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-unit-1 vg-mt-unit-1 ",color:"primary",variant:"light"},so(Ma.Ilr,{className:"vg-footer-reload--icon vg-w-unit-4 vg-h-unit-4 vg-text-primary "})),"intent"===$.type&&so(u.Z,{onPress:function(){$.viewValue?m($.viewValue,{type:"intent",payload:{entities:[],intent:{name:$.viewValue},name:$.viewValue,query:$.viewValue}}):p("Intent value is null","fail",2500)},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-unit-1 vg-mt-unit-1 ",color:"primary",variant:"light"},so(E.Z,{className:" vg-w-5 vg-h-5 vg-object-cover ",src:$.iconLink||"https://firebasestorage.googleapis.com/v0/b/voiceglow-eu/o/BsStars.svg?alt=media&token=5ef66b51-19c2-4a15-bfd3-18d41b6323c7"})),"link"===$.type&&so(u.Z,{onPress:function(){$.viewValue||p("Link value is null","fail",2500),window.open($.viewValue,"_blank")},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-unit-1 vg-mt-unit-1 ",color:"primary",variant:"light"},so(E.Z,{className:" vg-w-5 vg-h-5 vg-object-cover ",src:$.iconLink||"https://firebasestorage.googleapis.com/v0/b/voiceglow-eu/o/BsStars.svg?alt=media&token=5ef66b51-19c2-4a15-bfd3-18d41b6323c7"})),so(u.Z,{onPress:function(){return ae()},isDisabled:0===P.length,isIconOnly:!0,className:"vg-footer-submit vg-flex vg-justify-center vg-items-center vg-mt-unit-1 ",color:"primary",variant:"solid"},so(no.yhK,{className:"vg-footer-submit--icon vg-w-unit-4 vg-h-unit-4 vg-text-white "})))})))};var go=n(5392),fo=l.createElement;function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const bo=function(e){var t,n,a,r,o,s,u,c,v,g=(0,te.B)().config,d=(0,i.useRuntime)().runtime,f=d.isSuperAdmin,m=l.useMemo((function(){var e,t,n;return(null==d||null===(e=d.variables)||void 0===e?void 0:e.bannerImageUrl)||(null==d||null===(t=d.variables)||void 0===t?void 0:t.avatarImageUrl)||(null===(n=d.variables)||void 0===n?void 0:n.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=d.variables)||void 0===t?void 0:t.roundedImageURL,null==d||null===(n=d.variables)||void 0===n?void 0:n.avatarImageUrl,null==d||null===(a=d.variables)||void 0===a?void 0:a.bannerImageUrl,null===(r=d.variables)||void 0===r?void 0:r.theme]);return fo(z.Z,{className:" vg-flex vg-flex-col vg-justify-center vg-items-center vg-gap-2 vg-w-[80%] vg-mx-auto vg-chat-header--container",divKey:"chat_top_banner"},f?fo(oo.Z,{callback:function(t){e.setLocalData((function(e){return po(po({},e),{},{bannerImageUrl:t.url})}))}},fo(E.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none "},className:" vg-w-unit-18 vg-h-unit-18 vg-rounded-full vg-object-cover vg-chat-header--image",src:m})):fo(E.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none "},className:" vg-w-unit-18 vg-h-unit-18 vg-rounded-full vg-object-cover vg-chat-header--image",src:m}),fo("div",{className:" vg-text-center vg-chat-header--inner"},fo("p",{className:" vg-text-large vg-font-bold vg-chat-header--title"},null===(o=d.variables)||void 0===o?void 0:o.title),null!==(s=d.variables)&&void 0!==s&&s.description?fo(Q.Z,{to:null==d||null===(u=d.variables)||void 0===u?void 0:u.lang,text:"full-width"===(null==g?void 0:g.render)?null==d||null===(c=d.variables)||void 0===c?void 0:c.description:(0,_.MB)((null===(v=d.variables)||void 0===v?void 0:v.description)||"",350)||"",className:" vg-text-small vg-opacity-80 vg-chat-header--desc"}):null))};var ho=["children"],yo=l.createElement;const wo=function(e){var t,n,a=e.children,r=(0,v.Z)(e,ho),o=(0,l.useRef)(null),i=(0,l.useRef)(null),s=(0,l.useRef)(null),u=(0,l.useState)(!1),c=u[0],g=u[1],d=(0,l.useState)(0),f=d[0],m=d[1],p=(0,l.useState)(0),b=p[0],h=p[1],y=(0,l.useState)(!1),w=y[0],x=y[1],O=function(e){var t,n;if(c&&s.current&&i.current){var a=e.clientY-f,r=Math.min(s.current.clientHeight-i.current.clientHeight,Math.max(0,b+a));i.current.style.top=r+"px";var l=r/(s.current.clientHeight-i.current.clientHeight);o.current.scrollTop=l*((null==o||null===(t=o.current)||void 0===t?void 0:t.scrollHeight)-(null===(n=o.current)||void 0===n?void 0:n.clientHeight))}},P=function(){g(!1),document.body.style.userSelect=""};return(0,l.useEffect)((function(){return document.addEventListener("mousemove",O),document.addEventListener("mouseup",P),function(){document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",P)}}),[c]),(0,l.useEffect)((function(){var e,t;if(o.current&&(null===(e=o.current)||void 0===e?void 0:e.scrollHeight)>(null===(t=o.current)||void 0===t?void 0:t.clientHeight)){if(x(!0),w&&i.current){var n,a,r;if(!o.current||!i.current)return;var l=(null===(n=o.current)||void 0===n?void 0:n.clientHeight)/(null===(a=o.current)||void 0===a?void 0:a.scrollHeight)*(null===(r=o.current)||void 0===r?void 0:r.clientHeight)*.8;i.current.style.height=l+"px"}}else x(!1)}),[null==o||null===(t=o.current)||void 0===t?void 0:t.scrollHeight,null==o||null===(n=o.current)||void 0===n?void 0:n.clientHeight]),yo("div",{className:" vg-scroll-container vg-fancy-scroll--container"},yo("div",{style:null==r?void 0:r.style,id:null==r?void 0:r.id,className:" ".concat(null==r?void 0:r.className," vg-content vg-fancy-scroll--content"),ref:o,onScroll:function(e){var t,n,a,l,u;if(null!=r&&r.onScroll&&r.onScroll(e),!c&&s.current&&i.current){var v=(null===(t=o.current)||void 0===t?void 0:t.scrollTop)/((null===(n=o.current)||void 0===n?void 0:n.scrollHeight)-(null===(a=o.current)||void 0===a?void 0:a.clientHeight));i.current.style.top=v*((null===(l=s.current)||void 0===l?void 0:l.clientHeight)-(null===(u=i.current)||void 0===u?void 0:u.clientHeight))+"px"}}},a),w?yo("div",{className:" vg-custom-scrollbar vg-z-[9999] vg-fancy-scroll--el-thumb",ref:s},yo("div",{className:" vg-custom-scrollbar-thumb ",ref:i,onMouseDown:function(e){g(!0),m(e.clientY),h(i.current.offsetTop),document.body.style.userSelect="none"}})):null)};var xo=l.createElement;function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=I()((function(){return Promise.all([n.e(225),n.e(40)]).then(n.bind(n,8040))}),{loadableGenerated:{webpack:function(){return[8040]}}}),jo=I()((function(){return n.e(860).then(n.bind(n,7860))}),{loadableGenerated:{webpack:function(){return[7860]}}});function ko(e){return new Promise((function(t){if(document.getElementById(e))return t(document.getElementById(e));var n=new MutationObserver((function(a){document.getElementById(e)&&(n.disconnect(),t(document.getElementById(e)))}));n.observe(document.body,{childList:!0,subtree:!0})}))}function Do(e){var t=e.split(" ").flatMap((function(e,t){if(e.match(/^https?:\/\/\S+$/))return null;var n=e.split(":"),a=(0,o.Z)(n,2),r=a[0],i=a[1];return i?xo(l.Fragment,null," ",xo("a",{key:t,href:"https://".concat(i),target:"_blank"},r.replaceAll("_"," "))):0===t?"".concat(e," "):" ".concat(e)}));return xo(l.Fragment,null,t)}const So=function(e){var t,n,a,r,c,v,g,d,f,m,p,b,h,y,w,x,O,P=(0,te.B)(),j=P.config,S=P.safeOwnerData,I=l.useState([]),Z=(0,o.Z)(I,2),C=Z[0],M=Z[1],R=(0,i.useRuntime)(),T=R.runtime,V=R.setRuntime,B=R.formattedTurnsValue,L=l.useState([]),F=(0,o.Z)(L,2),A=F[0],G=F[1],U=l.useState(!0),W=(0,o.Z)(U,2),H=W[0],J=W[1],q=l.useState(0),K=(0,o.Z)(q,2),X=K[0],Y=K[1],ee=l.useState(!0),ne=(0,o.Z)(ee,2),ae=ne[0],re=ne[1],oe=l.useMemo((function(){return Number(T.defaultMessageDelay||1e3)}),[T.defaultMessageDelay]),le=l.useMemo((function(){return B.map((function(e){var t;return Po(Po({},e),{},{messages:"in-footer"===(null==T||null===(t=T.variables)||void 0===t?void 0:t.buttonsLayout)?e.messages.filter((function(e){return"choice"!==e.type})):e.messages})}))}),[B]);function ie(){try{document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_close",data:{chatOpened:!1,ts:Date.now()/1e3},ts:Date.now()/1e3}}))}catch(e){}e.setChatOpen(!1),V((function(e){return Po(Po({},e),{},{blockInput:!1})}))}l.useEffect((function(){var e;if("vg"!==(null==T||null===(e=T.variables)||void 0===e?void 0:e.agentPlatform)){if(A.forEach(clearTimeout),B.length){V((function(e){return Po(Po({},e),{},{showInstantly:!1})}));var t=B[B.length-1],n=C[C.length-1];return t.messages.filter((function(e){var t;return"VGVF_Channel"!==e.type&&"VG_Response"!==e.type&&"VG_Cancel"!==e.payload&&("in-footer"!==(null==T||null===(t=T.variables)||void 0===t?void 0:t.buttonsLayout)||"choice"!==e.type)})).forEach((function(e,a){var r,o=t.messages.slice(0,a).reduce((function(e,t){return e+((null==t?void 0:t.delay)||oe)}),0),l=null!=T&&T.showInstantly&&0===(null==C?void 0:C.length)||"human"===(null==e?void 0:e.from)||(null==n?void 0:n.from)===(null==t?void 0:t.from)?0:(e.delay||oe)+o,i=setTimeout((function(){var e=(0,s.Z)(B),n=e.length-1,r=e[n].messages[a];document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_message",data:r,ts:k()().unix()}}));var o={from:t.from,messages:"bot"===t.from?t.messages.slice(0,a+1):t.messages};e[n]=o,M(e)}),"vg"===(null==T||null===(r=T.variables)||void 0===r?void 0:r.agentPlatform)?0:l);G((function(e){return[].concat((0,s.Z)(e),[i])}))})),function(){A.forEach(clearTimeout)}}M([])}else{var a;if(ae&&(null==T||null===(a=T.variables)||void 0===a||!a.disableSmoothScroll)){var r=document.getElementById("vg-chat-scroll-container");r.scrollTop=r.scrollHeight}M(le)}}),[B]),l.useEffect((function(){var e,t,n,a,r;(ko("vg-chat-scroll-container").then((function(e){var t,n=document.getElementById("vg-chat-scroll-container");null!=n&&n.scrollHeight&&(null==e||e.scrollTo({top:null==n?void 0:n.scrollHeight,behavior:null!==(t=T.variables)&&void 0!==t&&t.disableSmoothScroll?"auto":"smooth"}))})),"vg"===(null==T||null===(e=T.variables)||void 0===e?void 0:e.agentPlatform)&&null!=T&&T.showVapiUI)?V((function(e){return Po(Po({},e),{},{loading:null==C||!C.length})})):null!==(t=le[le.length-1])&&void 0!==t&&null!==(t=t.messages)&&void 0!==t&&t.length&&null!==(n=C[C.length-1])&&void 0!==n&&null!==(n=n.messages)&&void 0!==n&&n.length&&(null===(a=le[le.length-1])||void 0===a||null===(a=a.messages)||void 0===a?void 0:a.length)===(null===(r=C[C.length-1])||void 0===r||null===(r=r.messages)||void 0===r?void 0:r.length)&&C.length===le.length?V((function(e){return Po(Po({},e),{},{loading:"human"===le[le.length-1].from})})):V((function(e){return Po(Po({},e),{},{loading:!0})}))}),[B,C,T.loading,T.blockLoading]),l.useEffect((function(){C.length>0&&(null==B?void 0:B.length)===C.length?V((function(e){return Po(Po({},e),{},{showInstantly:!0})})):V((function(e){return Po(Po({},e),{},{showInstantly:!1})}))}),[C]);var se=l.useMemo((function(){var e,t;return(null==T||null===(e=T.variables)||void 0===e?void 0:e.headerImageUrl)||(null===(t=T.variables)||void 0===t?void 0:t.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=T.variables)||void 0===t?void 0:t.roundedImageURL,null==T||null===(n=T.variables)||void 0===n?void 0:n.headerImageUrl,null===(a=T.variables)||void 0===a?void 0:a.theme]);return xo("div",{className:" ".concat("full-width"===(null==j?void 0:j.render)?" ":" vg-md:rounded-large "," vg-w-full vg-h-full vg-bg-gradient-to-b vg-from-background vg-to-background vg-text-foreground vg-relative vg-chat-container")},null!==(r=T.variables)&&void 0!==r&&r.enableVGHandoff?xo(No,{localRuntimeData:null==e?void 0:e.localRuntimeData,setLocalData:null==e?void 0:e.setLocalData,active:(null==T||null===(c=T.variables)||void 0===c?void 0:c.fixedHandoffPopup)||H||0===X||!C.find((function(e){return"human"===e.from}))}):null,xo("div",{id:"vg-header-container",className:" vg-py-unit-3 vg-bg-primary/80 vg-backdrop-blur vg-px-unit-5 vg-z-50 vg-w-full vg-text-white vg-flex vg-justify-between vg-h-auto vg-absolute vg-top-0 ".concat("full-width"===(null==j?void 0:j.render)?" ":" vg-md:rounded-large "," vg-header-container")},xo("div",{id:"vg-header-left",className:" vg-flex vg-gap-unit-2 vg-items-center vg-header-left"},xo(E.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none vg-w-unit-10 vg-h-unit-10 "},className:" vg-w-unit-10 vg-h-unit-10 vg-mr-unit-1 vg-rounded-full vg-object-cover vg-header-left--img",src:se}),xo("div",{id:"vg-header-left-text",className:" vg-flex vg-flex-col vg-gap-0 "},xo("p",{id:"vg-header-left-title",className:" vg-text-medium vg-font-bold vg-leading-unit-5 vg-text-white vg-header-left-text--title"},(0,_.MB)((null===(v=T.variables)||void 0===v?void 0:v.title)||"",35)||""),null!=T&&null!==(g=T.variables)&&void 0!==g&&g.description?xo(Q.Z,{to:null==T||null===(d=T.variables)||void 0===d?void 0:d.lang,text:"full-width"===(null==j?void 0:j.render)?null==T||null===(f=T.variables)||void 0===f?void 0:f.description:(0,_.MB)((null===(m=T.variables)||void 0===m?void 0:m.description)||"",35)||"",className:" vg-w-unit-52 vg-truncate vg-text-small vg-opacity-75 vg-leading-unit-5 vg-text-white vg-header-left-text--desc"}):null)),!(null!=e&&e.responsive)&&xo("div",{id:"vg-header-right",className:" vg-flex vg-gap-unit-2 vg-header-right"},xo(u.Z,{id:"vg_chat_toggle",onPress:function(){return e.setChatOpen?ie():""},isIconOnly:!0,className:" vg-bg-white/10 vg-flex vg-items-center vg-text-white vg-minimize-btn"},xo(Kt.kIL,{className:" vg-w-unit-6 vg-h-unit-6 "})),xo(u.Z,{id:"vg-close-btn",onPress:function(){return e.setChatOpen?void V((function(t){var n,a;return Po(Po({},t),{},{notice:Po(Po({},t.notice),{},{custom:xo(z.Z,{divKey:"should_end_chat",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-[50] vg-rounded-large vg-notice-container vg-w-full vg-bg-background/25 vg-backdrop-blur "},xo("div",{className:" vg-p-unit-5 "},xo("div",{className:" vg-flex vg-flex-col vg-gap-unit-2 "},xo(u.Z,{onPress:function(){try{document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:Date.now()/1e3},ts:Date.now()/1e3}}))}catch(e){}e.setChatOpen&&ie(),V((function(e){return Po(Po({},e),{},{reload:!0,notice:Po(Po({},e.notice),{},{custom:""})})}))},variant:"solid",color:"danger"},xo(Q.Z,{text:"End Chat",to:null===(n=T.variables)||void 0===n?void 0:n.lang})),xo(u.Z,{onPress:function(){V((function(e){return Po(Po({},e),{},{notice:Po(Po({},e.notice),{},{custom:""})})}))},variant:"light",className:" vg-bg-background vg-text-foreground "},xo(Q.Z,{text:"Cancel",to:null===(a=T.variables)||void 0===a?void 0:a.lang})))))})})})):""},isIconOnly:!0,className:" vg-bg-white/10 vg-flex vg-items-center vg-text-white vg-close-btn"},xo($.oHP,{className:" vg-w-unit-6 vg-h-unit-6 "})))),xo(wo,{onScroll:function(e){var t=e.target,n=t.scrollTop,a=n-X>10,r=X-n>10,o=t.scrollHeight-t.clientHeight;Math.abs(n-X)>10&&Y(n),a?J(!1):r&&o>=n&&J(!0);var l=Math.abs(o-n);re(l<10)},id:"vg-chat-scroll-container",className:" vg-overflow-y-auto ".concat((null!==(p=T.variables)&&void 0!==p&&p.branding," vg-h-[100%] ")," ").concat(T.showVapiUI||null!=T&&T.callOngoing?" vg-pb-unit-80 ":" "," ").concat("in-footer"===(null==T||null===(b=T.variables)||void 0===b?void 0:b.buttonsLayout)?" vg-pb-unit-52 ":" vg-pb-unit-32 "," vg-flex vg-flex-col vg-gap-unit-5 vg-pt-unit-36 vg-relative vg-container-snap-chat vg-chat-scroll-container")},xo(D.M,null,xo(bo,{localRuntimeData:null==e?void 0:e.localRuntimeData,setLocalData:null==e?void 0:e.setLocalData})),xo(N,{className:" vg-opacity-25 vg-bg-primary "}),C.map((function(t,n){return xo("div",{key:"turn_container_number_".concat(n),className:" vg-w-full vg-h-auto vg-relative vg-flex vg-flex-col vg-gap-unit-2 vg-chat-turn-container"},t.messages.map((function(a,r){return a&&null!=a&&a.type?xo(eo,{turnsWithoutButtonMessages:le,hasEverPaid:e.hasEverPaid,turnIndex:n,messageIndex:r,turn:t,messageItem:a}):null})))})),!T.blockLoading&&(null!=T&&T.forceLoading||T.loading||(null===(h=C[C.length-1])||void 0===h||null===(h=h.messages)||void 0===h?void 0:h.length)!==(null===(y=le[le.length-1])||void 0===y?void 0:y.messages.length))?xo("div",{key:"loading_runtime_avatar__main",className:" vg-mx-unit-6 vg-relative vg-w-auto vg-h-auto vg--mt-unit-2 "},xo(go.default,null)):null,null!==(w=T.debugMessages)&&void 0!==w&&w.length&&T.isSuperAdmin?xo(jo,{className:" vg-mb-20 ",key:"view-sources-for-preview",label:"Debug"},xo("div",{className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-gap-unit-2 vg-px-10 "},T.debugMessages.map((function(e,t){return xo("div",{key:"debug_message_".concat(t),className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-gap-unit-2 "},xo("p",{className:" vg-text-small vg-opacity-80 "},null==e?void 0:e.content))})))):null),xo("div",{style:{borderRadius:"0 0 20px 20px"},className:" vg-bg-gradient-to-b vg-from-background/25 vg-to-background/90 vg-backdrop-blur vg-w-full vg-h-auto vg-mx-auto vg-border-t vg-border-t-primary-100 vg-pt-3 vg-absolute vg-bottom-0 vg-z-50 vg-footer-mother-container"},xo("div",{className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-justify-center vg-items-center vg-footer-inner-container vg-pb-unit-2 "},xo(vo,e),xo("p",{className:" vg-text-small vg-mt-unit-1 vg-opacity-75 vg-footer-branding"},Do((null==S||null===(x=S.internal)||void 0===x||x.joinedAtConfig,!e.hasEverPaid&&ja.SHOULD_LTS_WORK?" Powered by Voiceglow:voiceglow.org":(null===(O=T.variables)||void 0===O?void 0:O.branding)||""))))))};var Io=n(428),Zo=n(7516),Co=n(1873),Eo=l.createElement;function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ro=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime,s=l.useState(!1),u=(0,o.Z)(s,2),c=u[0],v=u[1],g=Math.round((e.duration||1e3)/1e3),d=function(){r((function(e){return Mo(Mo({},e),{},{notice:Mo(Mo({},e.notice),{},{active:!1})})}))};return Eo(D.M,null,e.custom&&l.isValidElement(e.custom)?Eo(l.Fragment,null,e.custom):null,e.active?Eo(ya.E.div,{id:"vg-notice-container",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:500,damping:65,mass:.5},layout:!0,className:" vg- ".concat("default"===e.type&&" vg-bg-base-200 vg-text-primary vg-notice--default"," vg- ").concat("success"===e.type&&" vg-bg-success-100 vg-border-2 vg-border-success-600 vg-text-success-800 vg-notice--success"," vg- ").concat("fail"===e.type&&" vg-bg-danger-100 vg-border-2 vg-border-danger-600 vg-text-danger-800 vg-notice--danger"," vg- ").concat(e.className||" vg-fixed vg-z-[200] vg-w-[25rem] vg-backdrop-blur vg-py-unit-5 vg-text-small vg-flex vg-justify-center vg-rounded-large vg-notice"," vg- ")},Eo("div",{className:" vg-px-unit-5 vg-w-full vg-flex vg-items-center vg-gap-unit-3 vg-notice--inner"},Eo("div",{className:" vg-w-[10%] vg-notice-left"},"default"===e.type&&Eo(B.Vjl,{className:" vg-w-unit-6 vg-h-unit-6 vg-notice--default-icon"}),"success"===e.type&&Eo(q.Gy1,{className:" vg-w-unit-6 vg-h-unit-6 vg-notice--success-icon"}),"fail"===e.type&&Eo(Zo.dqF,{className:" vg-w-full vg-h-full vg-notice--danger-icon"})),Eo(Q.Z,{to:null==a||null===(t=a.variables)||void 0===t?void 0:t.lang,className:" vg-w-[90%] vg-notice-message--text"},e.message),Eo("div",{className:" vg-w-[8%] vg-notice-controller"},Eo("button",{onClick:function(){return e.manualRemove?c?d():"":d()},className:" vg-w-full vg-h-full vg-notice-btn--close"},Eo(Io.$,{size:30,strokeWidth:4,isPlaying:!0,duration:g,colors:["#ffffff","#000000"],colorsTime:[.5,g],onComplete:function(){v(!0),e.manualRemove||d()}},(function(t){var n=t.remainingTime;return Eo("div",{className:" vg-text-small vg-flex-all-center vg-notice-timer"}," ",n&&e.manualRemove?"":Eo(Co.u5Z,{className:" vg-w-unit-3 vg-h-unit-3 vg-notice-timer--icon"}))})))))):null)};var To=l.createElement;function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lo=I()((function(){return Promise.all([n.e(349),n.e(753)]).then(n.bind(n,1753))}),{loadableGenerated:{webpack:function(){return[1753]}}});const zo=function(e){var t,n,r,s,c,v,g,d,f,m,p,b,h,y=(0,te.B)().config,w=(0,i.useRuntime)(),x=w.runtime,O=w.setRuntime,P=null!==(t=x.variables)&&void 0!==t&&t.fontFamily?null===(n=x.variables)||void 0===n||null===(n=n.fontFamily)||void 0===n?void 0:n.split(" ").join("+"):"DM+Sans",N=l.useState(!1),j=(0,o.Z)(N,2);j[0],j[1];return To(l.Fragment,null,e.test?To(u.Z,{variant:"bordered",color:"primary",className:" vg-w-72 vg-mx-auto vg-font-bold ",size:"md",onPress:function(){O((function(e){return Bo(Bo({},e),{},{reload:!0})}))}},"Reset Agent"):null,To(z.Z,{id:"vg-mother-container",style:{background:null!=x&&null!==(r=x.variables)&&void 0!==r&&r.chatBgURL&&"false"!==(null==x||null===(s=x.variables)||void 0===s?void 0:s.chatBgURL)?"url(".concat((null===(c=x.variables)||void 0===c?void 0:c.chatBgURL)||"",")"):(null===(v=x.variables)||void 0===v||null===(v=v.theme)||void 0===v||v.split("-")[1],"unset"),fontFamily:(null===(g=x.variables)||void 0===g?void 0:g.fontFamily)||"DM Sans"},divKey:"chat_overlay_main",className:" vg-overflow-hidden vg-rounded-large ".concat(null!=x&&null!==(d=x.variables)&&void 0!==d&&d.chatBgURL&&"false"!==(null==x||null===(f=x.variables)||void 0===f?void 0:f.chatBgURL)?" ":" vg-bg-background vg-border vg-border-primary-100 "," ").concat(e.responsive?" vg-w-full vg-h-full vg-relative vg-object-cover vg-overlay-root-container":" vg-h-screen-fix vg-md:h-[85dvh] vg-md:max-h-[650px] vg-w-[100vw] vg-md:w-[425px] vg-2xl:w-[430px] vg-md:rounded-large vg-relative vg-object-cover vg-overlay-root-container"," ")},(e.shouldContinue,To(l.Fragment,null,To(D.M,null,null!=x&&null!==(m=x.variables)&&void 0!==m&&null!==(m=m.vapi)&&void 0!==m&&m.id&&x.showVapiUI&&null!=x&&null!==(p=x.variables)&&void 0!==p&&null!==(p=p.vapiConfig)&&void 0!==p&&p.enableVapiOnWeb?To(Lo,{test:e.test,agentData:x.variables,config:y,onNoThanks:function(){O((function(e){return Bo(Bo({},e),{},{showVapiUI:!e.showVapiUI})}))}}):null),null!==(b=x.variables)&&void 0!==b&&b.ADVANCED_customCSS&&e.test?To("style",{dangerouslySetInnerHTML:{__html:null===(h=x.variables)||void 0===h?void 0:h.ADVANCED_customCSS}}):null,"inherit"!==P&&!0===e.test?To(l.Fragment,null,To("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),To("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),To("link",{href:"https://fonts.googleapis.com/css2?family=".concat(P,":wght@400;500;700&display=swap"),rel:"stylesheet"})):null,To("div",{id:"vg-inner-container",className:" vg-h-[100%] vg-chat-view-container"},To(So,(0,a.Z)({},e,{test:e.test}))),To(Ro,(0,a.Z)({className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-py-unit-5 vg-z-[999] vg-rounded-large vg-notice-container"},x.notice))))))}}}]);